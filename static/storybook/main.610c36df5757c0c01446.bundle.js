(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeValue=function changeValue(handler){return function(evt){return handler(evt.currentTarget.value)}},exports.preventDefaultThen=function preventDefaultThen(handler){return function(evt){evt.preventDefault(),handler()}},exports.onEnterOrClick=function onEnterOrClick(fn){return{tabIndex:0,onClick:function(evt){evt.stopPropagation(),fn()},onKeyDown:function(evt){"Enter"===evt.key&&(evt.stopPropagation(),fn())}}}},225:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2);exports.createBloc=function createBloc(){return react_1.createContext(void 0)},exports.useBloc=function useBloc(context){return react_1.useContext(context)},exports.createRepo=function createRepo(){return react_1.createContext(void 0)},exports.useRepo=function useRepo(context){return react_1.useContext(context)}},226:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2)),strict_1=__webpack_require__(225),TodosRepo_1=__webpack_require__(627),TodosRepoCtx=strict_1.createRepo();exports.useTodosRepo=function(){return strict_1.useRepo(TodosRepoCtx)},exports.TodosRepoCreator=function TodosRepoCreator(props){var todosRepo=react_1.useMemo(function(){return TodosRepo_1.createTodosRepo(props.storage)},[]);return react_1.default.createElement(TodosRepoCtx.Provider,{value:todosRepo,children:props.children})}},319:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),typestyle_1=__webpack_require__(132),csx_1=__webpack_require__(99);exports.dual=function dual(left,right,ratio){void 0===ratio&&(ratio=.5);var leftWidth=Math.round(12*ratio);return react_1.default.createElement("div",{className:"container-fluid "+typestyle_1.style({$nest:{".row>*":{marginTop:csx_1.px(8)}}})},react_1.default.createElement("div",{className:"row"},react_1.default.createElement("div",{className:"col-sm-"+leftWidth},left),react_1.default.createElement("div",{className:"col-sm-"+(12-leftWidth)},right)))}},321:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(2),typestyle_1=__webpack_require__(132);exports.useAnimationName=function useAnimationName(keyFrames,diff){var animNames=react_1.useMemo(function(){var n=keyFrames["0%"]||keyFrames.from||keyFrames[0]||null;if(null==n&&(n=keyFrames.from={opacity:1}),null!=n&&"object"==typeof n){n.opacity=1-1e-4*Math.random();var a=typestyle_1.keyframes(__assign({},keyFrames));n.opacity=1-1e-4*Math.random();var b=typestyle_1.keyframes(__assign({},keyFrames));return n.opacity=1-1e-4*Math.random(),[a,b,typestyle_1.keyframes(__assign({},keyFrames))]}return[]},[keyFrames]),_a=react_1.useState(0),iter=_a[0],setIter=_a[1];return react_1.useLayoutEffect(function(){setIter(iter+1)},diff),animNames[iter%3]}},322:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.flash=function(borderColor,activeColor){return void 0===activeColor&&(activeColor="#0174ea"),{"0%":{color:activeColor,borderColor:activeColor,boxShadow:"0 0 10px "+activeColor},"30%":{color:"black",borderColor:borderColor,boxShadow:"0 0 0px "+borderColor},"100%":{borderColor:borderColor}}}},323:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2)),strict_1=__webpack_require__(225),TodosBloc_1=__webpack_require__(626),TodosRepoProvider_1=__webpack_require__(226),TodosBlocCtx=strict_1.createBloc();exports.useTodosBloc=function(){return strict_1.useBloc(TodosBlocCtx)},exports.TodosBlocCreator=function TodosBlocCreator(props){var service=TodosRepoProvider_1.useTodosRepo(),todoBloc=react_1.useMemo(function(){return TodosBloc_1.createTodosBloc(service)},[]);return react_1.default.createElement(TodosBlocCtx.Provider,{value:todoBloc,children:props.children})}},324:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2)),strict_1=__webpack_require__(225),TodoItemBloc_1=__webpack_require__(629),TodosRepoProvider_1=__webpack_require__(226),TodoItemBlocCtx=strict_1.createBloc();function usePromise(execute,dependencies){var _a=react_1.useState({state:"loading"}),result=_a[0],setResult=_a[1];return react_1.useMemo(function(){return execute().then(function(value){return setResult({state:"complete",value:value})}).catch(function(err){return setResult({state:"error",err:err})})},dependencies),result}exports.useTodoItemBloc=function(){return strict_1.useBloc(TodoItemBlocCtx)},exports.TodoItemBlocCreator=function TodoItemBlocCreator(props){var todosRepo=TodosRepoProvider_1.useTodosRepo(),todoItemBloc=usePromise(function(){return TodoItemBloc_1.createTodoItemBloc(todosRepo,props.todoId)},[props.todoId]);return"complete"===todoItemBloc.state?react_1.default.createElement(TodoItemBlocCtx.Provider,{value:todoItemBloc.value,children:props.children}):react_1.default.createElement(react_1.default.Fragment,null)},exports.usePromise=usePromise},325:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CHANGE_NEW_TODO_TITLE="CHANGE_NEW_TODO_TITLE",exports.ADD_TODO="ADD_TODO",exports.DELETE_TODO="DELETE_TODO",exports.TOGGLE_TODO="TOGGLE_TODO"},326:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),csx_1=__webpack_require__(99);exports.Container=function Container(_a){var children=_a.children,props=__rest(_a,["children"]);return react_1.default.createElement("div",__assign({className:"container-fluid",style:{marginTop:csx_1.px(8)},children:children},props))}},327:function(module,__webpack_exports__,__webpack_require__){"use strict";var _storybook_theming__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(328);__webpack_exports__.a=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_0__.create)({base:"light",colorPrimary:"hotpink",colorSecondary:"deepskyblue",appBg:"white",appContentBg:"white",appBorderColor:"#9B51E0",appBorderRadius:4,fontBase:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',fontCode:'Monaco", "Fira Code", "Hack", monospace',textColor:"black",textInverseColor:"rgba(255,255,255,0.9)",barTextColor:"silver",barSelectedColor:"black",barBg:"#9B51E0",inputBg:"white",inputBorder:"silver",inputTextColor:"black",inputBorderRadius:4,brandTitle:"Refactor or die",brandUrl:"https://refactorordie.com",brandImage:"https://refactorordie.com/logo-sb.svg"})},332:function(module,exports,__webpack_require__){__webpack_require__(333),__webpack_require__(437),module.exports=__webpack_require__(438)},438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87),_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(327);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{showPanel:!1,isToolshown:!1,theme:_theme__WEBPACK_IMPORTED_MODULE_1__.a}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){!function requireAll(requireContext){return requireContext.keys().sort().map(requireContext)}(__webpack_require__(618))},module)}.call(this,__webpack_require__(262)(module))},618:function(module,exports,__webpack_require__){var map={"./demo/demo.story.tsx":619,"./todos-notes/UserNameInput.story.tsx":620,"./todos/bloc-complex/AppRoot.story.tsx":623,"./todos/todo.story.tsx":630,"./writing/ObservableState/counter.story.tsx":639};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=618},619:function(module,exports,__webpack_require__){},620:function(module,exports,__webpack_require__){"use strict";(function(module){var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(87),react_2=__importStar(__webpack_require__(2)),dual_1=__webpack_require__(319),ViewState_1=__webpack_require__(621),utils_1=__webpack_require__(131),ViewView_1=__webpack_require__(622);function UserNameInputDemo(){var _a=react_2.useState(""),name=_a[0],setName=_a[1];return dual_1.dual(react_2.default.createElement(ViewView_1.ViewView,{label:"Name Input",diff:[name]},react_2.default.createElement("input",{className:"form-control",value:name,onChange:utils_1.changeValue(setName),placeholder:"Input User Name..."})),react_2.default.createElement(ViewState_1.ViewState,{label:"User Name",value:name}))}react_1.storiesOf("Todos Notes",module).add("User Name Input",function(){return react_2.default.createElement(UserNameInputDemo,null)})}).call(this,__webpack_require__(70)(module))},621:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var csx_1=__webpack_require__(99),react_1=__importStar(__webpack_require__(2)),typestyle_1=__webpack_require__(132),useAnimationName_1=__webpack_require__(321),flash_1=__webpack_require__(322),observer_react_1=__webpack_require__(130);function ViewState(_a){var label=_a.label,value=_a.value,_b=_a.maxLen,maxLen=void 0===_b?28:_b,_c=_a.maxLines,maxLines=void 0===_c?1:_c,valueString=react_1.useMemo(function(){var str=JSON.stringify(value),max=maxLen*maxLines;return str.length<max?str.replace(/\},\{/g,"},\n{"):str.slice(0,max-3)+"..."},[value]),flashAnimName=useAnimationName_1.useAnimationName(flash_1.flash("#252D52"),[valueString]);return react_1.default.createElement("div",{style:{animationName:flashAnimName},className:typestyle_1.style({textAlign:"left",animationDuration:"2s",background:"#C6D6DF",border:"4px solid #252D52",borderRadius:csx_1.px(8),boxSizing:"border-box",display:"inline-block",position:"relative",overflow:"hidden",$nest:{"&:not(:first-child)":{marginTop:csx_1.px(8)}}})},react_1.default.createElement("div",{style:{position:"absolute",right:0,bottom:0}},react_1.default.createElement("svg",{width:"98",height:"66",viewBox:"0 0 98 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M97.9516 0.138434C113.701 0.50861 126.902 9.10054 140.604 16.2596C156.288 24.4545 176.488 29.4058 183.35 44.7588C190.299 60.3067 183.881 78.6429 175.067 93.3676C167.198 106.512 150.937 111.904 137.82 120.816C124.567 129.82 114.316 144.037 97.9516 145.758C80.9376 147.549 65.5802 138.025 50.8622 129.966C34.6371 121.082 16.8763 112.68 8.82825 96.9594C0.263041 80.2289 -2.69251 59.4309 6.27937 42.8821C14.9339 26.9186 36.3973 22.2782 53.6868 14.2167C67.9624 7.56048 81.9545 -0.237559 97.9516 0.138434Z",fill:"#27302E","fill-opacity":"0.1"}))),react_1.default.createElement("div",{className:typestyle_1.style({fontSize:csx_1.px(24),paddingLeft:csx_1.px(18),paddingRight:csx_1.px(16),paddingBottom:csx_1.px(4),fontFamily:"'Nunito Sans Black', 'Nunito Sans', sans-serif",fontWeight:900})},label,react_1.default.createElement("div",{className:"float-right",style:{marginLeft:csx_1.px(8)}},react_1.default.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M27.1213 6.12131L21.8787 0.878687C21.3161 0.316077 20.553 4.16048e-06 19.7574 0H3C1.34312 0 0 1.34312 0 3V25C0 26.6569 1.34312 28 3 28H25C26.6569 28 28 26.6569 28 25V8.24263C28 7.44698 27.6839 6.68392 27.1213 6.12131ZM17 3V8H9V3H17ZM24.625 25H3.375C3.27554 25 3.18016 24.9605 3.10983 24.8902C3.03951 24.8198 3 24.7245 3 24.625V3.375C3 3.27554 3.03951 3.18016 3.10983 3.10984C3.18016 3.03951 3.27554 3 3.375 3H6V9.5C6 10.3284 6.67156 11 7.5 11H18.5C19.3284 11 20 10.3284 20 9.5V3.24263L24.8902 8.13281C24.925 8.16764 24.9526 8.20898 24.9715 8.25448C24.9903 8.29998 25 8.34875 25 8.398V24.625C25 24.7245 24.9605 24.8198 24.8902 24.8902C24.8198 24.9605 24.7245 25 24.625 25ZM14 12.5C10.9673 12.5 8.5 14.9673 8.5 18C8.5 21.0327 10.9673 23.5 14 23.5C17.0327 23.5 19.5 21.0327 19.5 18C19.5 14.9673 17.0327 12.5 14 12.5ZM14 20.5C12.6215 20.5 11.5 19.3785 11.5 18C11.5 16.6215 12.6215 15.5 14 15.5C15.3785 15.5 16.5 16.6215 16.5 18C16.5 19.3785 15.3785 20.5 14 20.5Z",fill:"#252D52","fill-opacity":"0.4"})))),react_1.default.createElement("div",{className:typestyle_1.style({fontWeight:900,fontSize:csx_1.px(13),fontFamily:"Monaco, Fira Code, Fira Code Retina, Hack, Consolas, monospace",background:"rgba(255, 255, 255, 0.79)"})},react_1.default.createElement("div",{style:{padding:csx_1.px(8),display:"inline-block"}},react_1.default.createElement("div",{style:{padding:csx_1.px(8),maxWidth:csx_1.em(maxLen),wordBreak:"break-word"}},valueString))))}exports.ViewObservableState=function ViewObservableState(_a){var label=_a.label,value=_a.value,maxLen=_a.maxLen,maxLines=_a.maxLines;return react_1.default.createElement(observer_react_1.Observer,{of:value,next:function(value){return react_1.default.createElement(ViewState,{label:label,value:value,maxLen:maxLen,maxLines:maxLines})}})},exports.ViewState=ViewState},622:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var csx_1=__webpack_require__(99),react_1=__importDefault(__webpack_require__(2)),typestyle_1=__webpack_require__(132),flash_1=__webpack_require__(322),useAnimationName_1=__webpack_require__(321);exports.ViewView=function ViewView(_a){var label=_a.label,diff=_a.diff,children=_a.children,flashAnimName=useAnimationName_1.useAnimationName(flash_1.flash("#9E0072","#9E0072"),diff);return react_1.default.createElement("div",{style:{animationName:flashAnimName},className:typestyle_1.style({textAlign:"left",animationDuration:"2s",background:"#F5BBF0",border:"4px solid #9E0072",borderRadius:csx_1.px(8),boxSizing:"border-box",display:"inline-block",position:"relative",overflow:"hidden",$nest:{"&:not(:first-child)":{marginTop:csx_1.px(8)}}})},react_1.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,zIndex:0,pointerEvents:"none"}},react_1.default.createElement("svg",{width:"99",height:"33",viewBox:"0 0 99 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M128.503 102.333C113.404 107.534 95.8617 106.455 78.6925 106.49C59.039 106.53 37.0324 110.261 21.4918 102.552C5.75384 94.7447 1.0001 80.4869 0.642042 67.7717C0.322413 56.4214 12.5057 47.26 19.6423 36.8745C26.8526 26.382 28.1513 13.5038 42.5974 6.71705C57.6169 -0.339151 77.7458 0.606279 96.4062 0.810659C116.977 1.03597 138.716 0.414243 155.594 7.95466C173.556 15.9796 188.618 28.6144 189.904 42.5816C191.144 56.0549 173.602 66.5204 162.021 77.7896C152.46 87.0944 143.84 97.051 128.503 102.333Z",fill:"#233C10",fillOpacity:"0.1"}))),react_1.default.createElement("div",{className:typestyle_1.style({fontSize:csx_1.px(24),color:"#9E0072",paddingLeft:csx_1.px(18),paddingRight:csx_1.px(16),paddingBottom:csx_1.px(4),fontFamily:"'Nunito Sans Black', 'Nunito Sans', sans-serif",fontWeight:900})},label,react_1.default.createElement("span",{className:"float-right"},react_1.default.createElement("svg",{width:"28",height:"22",viewBox:"0 0 28 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M10.3752 11C10.3752 11.9283 10.7439 12.8185 11.4003 13.4749C12.0567 14.1313 12.9469 14.5 13.8752 14.5C14.8034 14.5 15.6937 14.1313 16.3501 13.4749C17.0064 12.8185 17.3752 11.9283 17.3752 11C17.3752 10.0717 17.0064 9.1815 16.3501 8.52513C15.6937 7.86875 14.8034 7.5 13.8752 7.5C12.9469 7.5 12.0567 7.86875 11.4003 8.52513C10.7439 9.1815 10.3752 10.0717 10.3752 11ZM27.4439 10.1938C24.4814 3.95313 20.0033 0.8125 14.0002 0.8125C7.99393 0.8125 3.51893 3.95312 0.556431 10.1969C0.437604 10.4485 0.375977 10.7233 0.375977 11.0016C0.375977 11.2798 0.437604 11.5546 0.556431 11.8062C3.51893 18.0469 7.99706 21.1875 14.0002 21.1875C20.0064 21.1875 24.4814 18.0469 27.4439 11.8031C27.6846 11.2969 27.6846 10.7094 27.4439 10.1938ZM13.8752 16.5C10.8377 16.5 8.37518 14.0375 8.37518 11C8.37518 7.9625 10.8377 5.5 13.8752 5.5C16.9127 5.5 19.3752 7.9625 19.3752 11C19.3752 14.0375 16.9127 16.5 13.8752 16.5Z",fill:"#9E0072"})))),react_1.default.createElement("div",{className:typestyle_1.style({background:"rgba(255, 255, 255, 0.79)"})},react_1.default.createElement("div",{style:{padding:csx_1.px(8),position:"relative",zIndex:1}},children)))}},623:function(module,exports,__webpack_require__){"use strict";(function(module){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(87),react_2=__importDefault(__webpack_require__(2)),AppRoot_1=__webpack_require__(624);react_1.storiesOf("Todos",module).add("Todo App (Complex)",function(){return react_2.default.createElement(AppRoot_1.AppRoot,null)})}).call(this,__webpack_require__(70)(module))},624:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),TodosApp_1=__webpack_require__(625),TodosBlocProvider_1=__webpack_require__(323),TodosRepoProvider_1=__webpack_require__(226);exports.AppRoot=function AppRoot(_props){return react_1.default.createElement(TodosRepoProvider_1.TodosRepoCreator,{storage:localStorage},react_1.default.createElement(TodosBlocProvider_1.TodosBlocCreator,null,react_1.default.createElement(TodosApp_1.TodosApp,null)))}},625:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var observer_react_1=__webpack_require__(130),react_1=__importDefault(__webpack_require__(2)),utils_1=__webpack_require__(131),TodosBlocProvider_1=__webpack_require__(323),TodoItem_1=__webpack_require__(628),TodoItemBlocProvider_1=__webpack_require__(324);exports.TodosApp=function TodosApp(){var todos=TodosBlocProvider_1.useTodosBloc();return react_1.default.createElement("div",{className:"container",style:{maxWidth:"30em"}},react_1.default.createElement("h1",null,"Todos"),react_1.default.createElement("ul",{className:"list-group"},react_1.default.createElement(observer_react_1.Observer,{of:todos.todoIds,next:function(todos){return todos.map(function(id){return react_1.default.createElement(TodoItemBlocProvider_1.TodoItemBlocCreator,{todoId:id,key:id},react_1.default.createElement(TodoItem_1.TodoItem,null))})}})),react_1.default.createElement("br",null),react_1.default.createElement("form",{onSubmit:utils_1.preventDefaultThen(function(){return todos.addTodo()}),className:"form"},react_1.default.createElement("label",{htmlFor:"new-todo-label"},"New Todo"),react_1.default.createElement("div",{className:"input-group"},react_1.default.createElement(observer_react_1.Observer,{of:todos.newTodoTitle,next:function(value){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",{id:"new-todo-label",type:"text",className:"form-control",placeholder:"Todo title",value:value,onChange:utils_1.changeValue(todos.updateTitle)}))}}),react_1.default.createElement("div",{className:"input-group-append"},react_1.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Add")))))}},626:function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(86),operators_1=__webpack_require__(227);exports.createTodosBloc=function createTodosBloc(service){var todoIds=new rxjs_1.BehaviorSubject([]),isLoading=new rxjs_1.BehaviorSubject(!0),newTodoLabel=new rxjs_1.BehaviorSubject("");return service.getTodoIds().then(function(ids){return todoIds.next(ids)}),{updateTitle:function(label){newTodoLabel.next(label)},addTodo:function(){return __awaiter(this,void 0,void 0,function(){var id;return __generator(this,function(_a){switch(_a.label){case 0:return[4,service.createTodo(newTodoLabel.value)];case 1:return id=_a.sent().id,todoIds.next(todoIds.value.concat([id])),[2]}})})},todoIds:todoIds.asObservable(),isLoading:isLoading.pipe(operators_1.distinctUntilChanged()),newTodoTitle:newTodoLabel}}},627:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(86),randId=function(){return Math.random().toString(36).slice(2)},STORAGE_KEY="todos-list";exports.createTodosRepo=function createTodosRepo(storage){var added=new rxjs_1.Subject,removed=new rxjs_1.Subject,updated=new rxjs_1.Subject,getIds=function(){return JSON.parse(storage.getItem(STORAGE_KEY)||"[]")},saveIds=function(ids){return storage.setItem(STORAGE_KEY,JSON.stringify(ids))},saveTodo=function(id,todo){"delete"===todo?(storage.removeItem(STORAGE_KEY+"-"+id),saveIds(getIds().filter(function(existingId){return existingId!==id})),removed.next(id)):(storage.setItem(STORAGE_KEY+"-"+id,JSON.stringify(todo)),updated.next(todo))},getTodo=function(id){return JSON.parse(storage.getItem(STORAGE_KEY+"-"+id)||"null")};return{createTodo:function(label){return delayed(function(){return function(todo){var newTodoId=randId();saveIds(getIds().concat([newTodoId]));var newTodo=__assign({id:newTodoId},todo);return storage.setItem(STORAGE_KEY+"-"+newTodoId,JSON.stringify(newTodo)),added.next(newTodo),newTodo}({done:!1,label:label})})},saveTodo:function(id,todo){return delayed(function(){saveTodo(id,__assign({},todo,{id:id}))})},updateTodo:function(id,partial){return delayed(function(){var existing=getTodo(id);if(null==existing)throw new Error("Could not update todo: "+id);saveTodo(id,__assign({},existing,partial,{id:id}))})},deleteTodo:function(id){return delayed(function(){var todo=getTodo(id);return null!=todo&&saveTodo(id,"delete"),saveIds(getIds().filter(function(todoId){return todoId!==id})),todo})},getAllTodos:function(){return delayed(function(){return getIds().map(getTodo).filter(function(todo){return null!=todo})})},getTodo:function(id){return delayed(function(){return getTodo(id)})},getTodoIds:function(){return delayed(function(){return getIds()})},events:{added:added.asObservable(),removed:removed.asObservable(),updated:updated.asObservable()}}};var delayed=function(fn,delayMs){return void 0===delayMs&&(delayMs=600),new Promise(function(res){setTimeout(function(){return res(fn())},delayMs)})}},628:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var observer_react_1=__webpack_require__(130),react_1=__importDefault(__webpack_require__(2)),utils_1=__webpack_require__(131),TodoItemBlocProvider_1=__webpack_require__(324);exports.TodoItem=function TodoItem(){var itemBloc=TodoItemBlocProvider_1.useTodoItemBloc();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(observer_react_1.Observer,{of:itemBloc.done,next:function(done){return react_1.default.createElement("li",__assign({style:{textDecoration:done?"line-through":"none"},className:"list-group-item"},utils_1.onEnterOrClick(function(){return itemBloc.toggleDone()})),react_1.default.createElement(observer_react_1.Observer,{of:itemBloc.title,next:function(title){return title}})," ",react_1.default.createElement("button",__assign({className:"float-right btn btn-light btn-sm"},utils_1.onEnterOrClick(function(){return itemBloc.remove()})),"Delete"))}}))}},629:function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(86),operators_1=__webpack_require__(227);exports.createTodoItemBloc=function createTodoItemBloc(todosRepo,todoId){return __awaiter(this,void 0,void 0,function(){var todoMaybe,id,title,done,updateTodoData;return __generator(this,function(_a){switch(_a.label){case 0:return[4,todosRepo.getTodo(todoId)];case 1:if(null==(todoMaybe=_a.sent()))throw new Error("Unknown todo with id "+todoId);return id=todoMaybe.id,title=new rxjs_1.BehaviorSubject(todoMaybe.label),done=new rxjs_1.BehaviorSubject(todoMaybe.done),updateTodoData=function(update){if(null==update)return console.error("it looks like this Todo might have been deleted",{todo:id});title.next(update.label),done.next(update.done)},todosRepo.getTodo(todoId).then(updateTodoData),todosRepo.events.updated.pipe(operators_1.filter(function(todo){return todo.id===id})).subscribe(updateTodoData),[2,{title:title.pipe(operators_1.distinctUntilChanged()),done:done.pipe(operators_1.distinctUntilChanged()),toggleDone:function(){done.next(!done.value),todosRepo.updateTodo(id,{done:!done.value})},remove:function(){todosRepo.deleteTodo(id)}}]}})})}},630:function(module,exports,__webpack_require__){"use strict";(function(module){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(87),react_2=__importDefault(__webpack_require__(2)),AppRedux_1=__webpack_require__(631),App_1=__webpack_require__(636),todosService=__webpack_require__(638).createTodosService(localStorage);react_1.storiesOf("Todos",module).add("Todo App Observer Simple ",function(){return react_2.default.createElement(App_1.App,{todosService:todosService})}).add("Todo App Redux",function(){return react_2.default.createElement(AppRedux_1.AppRedux,{todosService:todosService})})}).call(this,__webpack_require__(70)(module))},631:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),react_redux_1=__webpack_require__(651),redux_1=__webpack_require__(230),utils_1=__webpack_require__(131),Store_1=__webpack_require__(634),actions_1=__webpack_require__(635);function TodosAppView(){var dispatch=react_redux_1.useDispatch(),todos=react_redux_1.useSelector(function(state){return state.todos},react_redux_1.shallowEqual),newTodoLabel=react_redux_1.useSelector(function(state){return state.newTodoLabel},react_redux_1.shallowEqual);return react_1.default.createElement("div",{className:"container",style:{maxWidth:"30em"}},react_1.default.createElement("h1",null,"Todos"),react_1.default.createElement("ul",{className:"list-group"},todos.map(function(todo){return react_1.default.createElement("li",__assign({key:todo.id,style:{textDecoration:todo.done?"line-through":"none"},className:"list-group-item"},utils_1.onEnterOrClick(function(){return dispatch(actions_1.toggleTodo(todo.id))})),todo.label," ",react_1.default.createElement("button",__assign({className:"float-right btn btn-light btn-sm"},utils_1.onEnterOrClick(function(){return dispatch(actions_1.deleteTodo(todo.id))})),"Delete"))})),react_1.default.createElement("br",null),react_1.default.createElement("form",{onSubmit:utils_1.preventDefaultThen(function(){return dispatch(actions_1.addNewTodo())}),className:"form"},react_1.default.createElement("label",{htmlFor:"new-todo-label"},"New Todo"),react_1.default.createElement("div",{className:"input-group"},react_1.default.createElement("input",{id:"new-todo-label",type:"text",className:"form-control",placeholder:"Todo title",value:newTodoLabel,onChange:utils_1.changeValue(function(value){return dispatch(actions_1.changeNewTodoTitle(value))})}),react_1.default.createElement("div",{className:"input-group-append"},react_1.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Add")))))}exports.AppRedux=function AppRedux(props){var store=redux_1.createStore(Store_1.createTodosReducer(props.todosService));return react_1.default.createElement(react_redux_1.Provider,{store:store},react_1.default.createElement(TodosAppView,null))}},634:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(325),initialState={newTodoLabel:"",todos:[]};exports.createTodosReducer=function createTodosReducer(todosService){return function(state,action){switch(void 0===state&&(state=initialState),action.type){case types_1.TOGGLE_TODO:return __assign({},state,{todos:state.todos.map(function(originalTodo){return originalTodo.id===action.todo_id?__assign({},originalTodo,{done:!originalTodo.done}):originalTodo})});case types_1.DELETE_TODO:return __assign({},state,{todos:state.todos.filter(function(originalTodo){return originalTodo.id!==action.todo_id})});case types_1.ADD_TODO:return __assign({},state,{newTodoLabel:"",todos:state.todos.concat([todosService.createTodo(state.newTodoLabel)])});case types_1.CHANGE_NEW_TODO_TITLE:return __assign({},state,{newTodoLabel:action.label});default:return state}}}},635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(325);exports.changeNewTodoTitle=function(label){return{type:types_1.CHANGE_NEW_TODO_TITLE,label:label}},exports.addNewTodo=function(){return{type:types_1.ADD_TODO}},exports.deleteTodo=function(todo_id){return{type:types_1.DELETE_TODO,todo_id:todo_id}},exports.toggleTodo=function(todo_id){return{type:types_1.TOGGLE_TODO,todo_id:todo_id}}},636:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var observer_react_1=__webpack_require__(130),react_1=__importStar(__webpack_require__(2)),utils_1=__webpack_require__(131),TodoBloc_1=__webpack_require__(637);exports.App=function App(props){var bloc=react_1.useMemo(function(){return TodoBloc_1.createTodoBloc(props.todosService)},[]);return react_1.default.createElement("div",{className:"container",style:{maxWidth:"30em"}},react_1.default.createElement("h1",null,"Todos"),react_1.default.createElement("ul",{className:"list-group"},react_1.default.createElement(observer_react_1.Observer,{of:bloc.todos,next:function(todos){return todos.map(function(todo){return react_1.default.createElement("li",__assign({key:todo.id,style:{textDecoration:todo.done?"line-through":"none"},className:"list-group-item"},utils_1.onEnterOrClick(function(){return bloc.toggleTodo(todo.id)})),todo.label," ",react_1.default.createElement("button",__assign({className:"float-right btn btn-light btn-sm"},utils_1.onEnterOrClick(function(){return bloc.deleteTodo(todo.id)})),"Delete"))})}})),react_1.default.createElement("br",null),react_1.default.createElement("form",{onSubmit:utils_1.preventDefaultThen(function(){return bloc.addTodo()}),className:"form"},react_1.default.createElement("label",{htmlFor:"new-todo-label"},"New Todo"),react_1.default.createElement("div",{className:"input-group"},react_1.default.createElement(observer_react_1.Observer,{of:bloc.newTodoTitle,next:function(value){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",{id:"new-todo-label",type:"text",className:"form-control",placeholder:"Todo title",value:value,onChange:utils_1.changeValue(bloc.updateTitle)}))}}),react_1.default.createElement("div",{className:"input-group-append"},react_1.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Add")))))}},637:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(86),operators_1=__webpack_require__(227);exports.createTodoBloc=function createTodoBloc(service){var save=service.getSave(),todos=new rxjs_1.BehaviorSubject([{done:!1,id:"1",label:"adlijawoid"}]),newTodoTitle=new rxjs_1.BehaviorSubject(save.newTodoLabel);return rxjs_1.combineLatest(todos,newTodoTitle).pipe(operators_1.debounceTime(500)).subscribe(function(_a){var todos=_a[0],newTodoTitle=_a[1];service.save({newTodoLabel:newTodoTitle,todos:todos})}),{toggleTodo:function(todoId){todos.next(todos.value.map(function(originalTodo){return originalTodo.id===todoId?__assign({},originalTodo,{done:!originalTodo.done}):originalTodo}))},deleteTodo:function(todoId){todos.next(todos.value.filter(function(originalTodo){return originalTodo.id!==todoId}))},updateTitle:function(label){newTodoTitle.next(label)},addTodo:function(){todos.next(todos.value.concat([service.createTodo(newTodoTitle.value)])),newTodoTitle.next("")},newTodoTitle:newTodoTitle.pipe(operators_1.distinctUntilChanged()),todos:todos}}},638:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var randId=function(){return Math.random().toString(36).slice(2)},STORAGE_KEY="todos";exports.createTodosService=function createTodosService(storage){return{createTodo:function(label){return{done:!1,id:randId(),label:label}},save:function(state){return storage.setItem(STORAGE_KEY,JSON.stringify(state))},getSave:function(){return JSON.parse(storage.getItem(STORAGE_KEY)||"false")||{newTodoLabel:"",todos:[]}}}}},639:function(module,exports,__webpack_require__){"use strict";(function(module){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(87),react_2=__importDefault(__webpack_require__(2)),CounterObservable1_1=__webpack_require__(640),CounterObservable2_1=__webpack_require__(641),CounterReact_1=__webpack_require__(642),CounterReactCompareToObservable_1=__webpack_require__(643),Demo_1=__webpack_require__(644),csx_1=__webpack_require__(99),dual_1=__webpack_require__(319),CounterReactClass_1=__webpack_require__(645),Container_1=__webpack_require__(326),CounterReact$=__webpack_require__(646),CounterCompareToObservable$=__webpack_require__(647),CounterObservable1$=__webpack_require__(648),CounterObservable2$=__webpack_require__(649),CounterReactClass$=__webpack_require__(650);function Example(props){return react_2.default.createElement("div",{className:"bg-white p-2 mt-1 mb-1 d-inline-block",children:props.children})}function Notes(props){return react_2.default.createElement("p",{style:{maxWidth:csx_1.em(36)},children:props.children})}function PostDemoNotes(props){return react_2.default.createElement(Container_1.Container,null,react_2.default.createElement("p",{style:{maxWidth:csx_1.em(36)},children:props.children}))}console.log(CounterReact$),react_1.storiesOf("Writing / ObservableState",module).add("Counter (Hooks)",function(){return react_2.default.createElement(Demo_1.Demo,{title:"Counter",source:CounterReact$},react_2.default.createElement(Example,null,react_2.default.createElement(CounterReact_1.Counter,null)))}).add("Counter (Observable v1)",function(){return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(Demo_1.Demo,{title:"Counter (Observable v1)",source:CounterObservable1$},react_2.default.createElement(Example,null,react_2.default.createElement(CounterObservable1_1.CounterObservable1,null)),react_2.default.createElement(Notes,null,"Notice that this does ",react_2.default.createElement("em",null,"not")," work, because adding the next value to the observable does not trigger a re-render. This is expected, and as we'll see in the next step, is a valuable property for managing performance.")))}).add("Counter (Observable v2)",function(){return react_2.default.createElement(Demo_1.Demo,{title:"Counter (Observable)",source:CounterObservable2$},react_2.default.createElement(Example,null,react_2.default.createElement(CounterObservable2_1.CounterObservable,null)),react_2.default.createElement(Notes,null,"Surrounding the count display with an ",react_2.default.createElement("code",null,"<Observer .../>"),"  component will ensure that whenever ",react_2.default.createElement("code",null,"count")," has a next value, that the"," ",react_2.default.createElement("code",{style:{whiteSpace:"nowrap"}},"next={value => ...}")," ","render function will be executed."))}).add("Counter (Hooks vs Observable)",function(){return dual_1.dual(react_2.default.createElement(Demo_1.Demo,{title:"Counter",source:CounterCompareToObservable$,hideLinks:!0},react_2.default.createElement(Example,null,react_2.default.createElement(CounterReactCompareToObservable_1.Counter,null))),react_2.default.createElement(Demo_1.Demo,{title:"Counter (Observable)",source:CounterObservable2$},react_2.default.createElement(Example,null,react_2.default.createElement(CounterObservable2_1.CounterObservable,null))))}).add("Counter (Hooks vs Class)",function(){return dual_1.dual(react_2.default.createElement(Demo_1.Demo,{title:"Counter using React Class",source:CounterReactClass$,hideLinks:!0},react_2.default.createElement(Example,null,react_2.default.createElement(CounterReactClass_1.CounterClass,null))),react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(Demo_1.Demo,{title:"Counter using Hooks",source:CounterReact$},react_2.default.createElement(Example,null,react_2.default.createElement(CounterReact_1.Counter,null))),react_2.default.createElement(PostDemoNotes,null,"Ignoring the performance implications of new functions for"," ",react_2.default.createElement("code",null,"onClick")," handlers; Hooks have already made our simple counter example vastly easier to manage and reason about. As we'll see, using the ",react_2.default.createElement("code",null,"<Observer .../>")," component will look very similar with the added benefit of fine-grained control over rendering performance.")))})}).call(this,__webpack_require__(70)(module))},640:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2)),rxjs_1=__webpack_require__(86);exports.CounterObservable1=function CounterObservable1(){var count=react_1.useMemo(function(){return new rxjs_1.BehaviorSubject(1)},[]);return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",{onClick:function(){return count.next(count.value-1)}},"-"),react_1.default.createElement("span",{style:{margin:"1em"}},count.value),react_1.default.createElement("button",{onClick:function(){return count.next(count.value+1)}},"+"))}},641:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2)),rxjs_1=__webpack_require__(86),observer_react_1=__webpack_require__(130);exports.CounterObservable=function CounterObservable(){var count=react_1.useMemo(function(){return new rxjs_1.BehaviorSubject(1)},[]);return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",{onClick:function(){return count.next(count.value-1)}},"-"),react_1.default.createElement(observer_react_1.Observer,{of:count,next:function(countValue){return react_1.default.createElement("span",{style:{margin:"1em"}},countValue)}}),react_1.default.createElement("button",{onClick:function(){return count.next(count.value+1)}},"+"))}},642:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2));exports.Counter=function Counter(){var _a=react_1.useState(1),count=_a[0],setCount=_a[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",{onClick:function(){return setCount(count-1)}},"-"),react_1.default.createElement("span",{style:{margin:"1em"}},count),react_1.default.createElement("button",{onClick:function(){return setCount(count+1)}},"+"))}},643:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2));exports.Counter=function Counter(){var _a=react_1.useState(1),count=_a[0],setCount=_a[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",{onClick:function(){return setCount(count-1)}},"-"),react_1.default.createElement("span",{style:{margin:"1em"}},count),react_1.default.createElement("button",{onClick:function(){return setCount(count+1)}},"+"))}},644:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),typestyle_1=__webpack_require__(132),csx_1=__webpack_require__(99),Container_1=__webpack_require__(326);function storybookLink(href){return href.replace(/^.+?id=/,"./?path=/story/")}exports.Demo=function Demo(props){var href=window.location.href,query=window.location.search,hideCode=query.includes("hide-code"),hideDemo=query.includes("hide-demo"),hideLinks=props.hideLinks||query.includes("hide-links");return react_1.default.createElement(Container_1.Container,null,react_1.default.createElement("b",null,props.title),!hideLinks&&react_1.default.createElement("div",{className:"float-right"},react_1.default.createElement("a",{target:"_blank",href:href},"Frame"),"   ",react_1.default.createElement("a",{target:"_blank",href:storybookLink(href)},"Storybook")),react_1.default.createElement("br",null),!hideDemo&&props.children,!hideCode&&react_1.default.createElement("p",{className:typestyle_1.style({borderRadius:csx_1.px(4),overflow:"auto",$nest:{pre:{padding:csx_1.em(1)}}}),dangerouslySetInnerHTML:{__html:props.source}}))}},645:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),CounterClass=function(_super){function CounterClass(props){var _this=_super.call(this,props)||this;return _this.state={count:1},_this.addOne=_this.addOne.bind(_this),_this.subtractOne=_this.subtractOne.bind(_this),_this}return __extends(CounterClass,_super),CounterClass.prototype.subtractOne=function(){this.setState(function(state){return{count:state.count-1}})},CounterClass.prototype.addOne=function(){this.setState(function(state){return{count:state.count+1}})},CounterClass.prototype.render=function(){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",{onClick:this.subtractOne},"-"),react_1.default.createElement("span",{style:{margin:"1em"}},this.state.count),react_1.default.createElement("button",{onClick:this.addOne},"+"))},CounterClass}(react_1.default.Component);exports.CounterClass=CounterClass},646:function(module,exports){module.exports='<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">React</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">useState</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">react</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #81A1C1">export</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">function</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">Counter</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">const</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">[</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">setCount</span><span style="color: #ECEFF4">]</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">useState</span><span style="color: #D8DEE9">(</span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9"> (</span>\n<span style="color: #D8DEE9">    </span><span style="color: #D8DEE9">&lt;&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">setCount</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">-</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">-</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;span</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">style</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">margin</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1em</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">}&gt;{</span><span style="color: #D8DEE9">count</span><span style="color: #81A1C1">}&lt;/span&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">setCount</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">+</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">+</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">&lt;/&gt;</span>\n<span style="color: #D8DEE9">  )</span><span style="color: #81A1C1">;</span>\n<span style="color: #ECEFF4">}</span></code></pre>'},647:function(module,exports){module.exports='<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">React</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">useState</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">react</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n<span style="color: #4C566A">//</span>\n<span style="color: #4C566A">//</span>\n\n<span style="color: #81A1C1">export</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">function</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">Counter</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #ECEFF4">  </span><span style="color: #4C566A">// useState to make a getter and setter hooked into the state loop</span>\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">const</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">[</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">setCount</span><span style="color: #ECEFF4">]</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">useState</span><span style="color: #D8DEE9">(</span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9"> (</span>\n<span style="color: #D8DEE9">    </span><span style="color: #D8DEE9">&lt;&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">setCount</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">-</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">-</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;span</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">style</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">margin</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1em</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">}&gt;{</span><span style="color: #D8DEE9">count</span><span style="color: #81A1C1">}&lt;/span&gt;</span>\n\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">setCount</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">+</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">+</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">&lt;/&gt;</span>\n<span style="color: #D8DEE9">  )</span><span style="color: #81A1C1">;</span>\n<span style="color: #ECEFF4">}</span></code></pre>'},648:function(module,exports){module.exports='<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">React</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">useMemo</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">react</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n<span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">BehaviorSubject</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">rxjs</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #81A1C1">export</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">function</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">CounterObservable1</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">const</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">useMemo</span><span style="color: #D8DEE9">(</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">new</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">BehaviorSubject</span><span style="color: #D8DEE9">(</span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> [])</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9"> (</span>\n<span style="color: #D8DEE9">    </span><span style="color: #D8DEE9">&lt;&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">next</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">value</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">-</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">-</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;span</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">style</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">margin</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1em</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">}&gt;{</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">value</span><span style="color: #81A1C1">}&lt;/span&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">next</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">value</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">+</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">+</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">&lt;/&gt;</span>\n<span style="color: #D8DEE9">  )</span><span style="color: #81A1C1">;</span>\n<span style="color: #ECEFF4">}</span></code></pre>'},649:function(module,exports){module.exports='<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">React</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">useMemo</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">react</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n<span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">BehaviorSubject</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">rxjs</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n<span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">Observer</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">observer-react</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #81A1C1">export</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">function</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">CounterObservable</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #ECEFF4">  </span><span style="color: #4C566A">// useMemo to create the BehaviorSubject once</span>\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">const</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #88C0D0">useMemo</span><span style="color: #D8DEE9">(</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">new</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">BehaviorSubject</span><span style="color: #D8DEE9">(</span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9"> [])</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9"> (</span>\n<span style="color: #D8DEE9">    </span><span style="color: #D8DEE9">&lt;&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">next</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">value</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">-</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">-</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;Observer</span>\n<span style="color: #D8DEE9">        </span><span style="color: #8FBCBB">of</span><span style="color: #81A1C1">={</span><span style="color: #D8DEE9">count</span><span style="color: #81A1C1">}</span>\n<span style="color: #ECEFF4">        </span><span style="color: #4C566A">// `next` rerenders count display when `count` has a next value.</span>\n<span style="color: #D8DEE9">        </span><span style="color: #8FBCBB">next</span><span style="color: #81A1C1">={</span><span style="color: #D8DEE9">countValue</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">&lt;span</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">style</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">margin</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1em</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">}&gt;{</span><span style="color: #D8DEE9">countValue</span><span style="color: #81A1C1">}&lt;/span&gt;}</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">/&gt;</span>\n\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">next</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">value</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">+</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">+</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">&lt;/&gt;</span>\n<span style="color: #D8DEE9">  )</span><span style="color: #81A1C1">;</span>\n<span style="color: #ECEFF4">}</span></code></pre>'},650:function(module,exports){module.exports='<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #81A1C1">import</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">React</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">from</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">react</span><span style="color: #ECEFF4">"</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #81A1C1">type</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">State</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> count</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">number</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #81A1C1">export</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">class</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">CounterClass</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">extends</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">React</span><span style="color: #ECEFF4">.</span><span style="color: #8FBCBB">Component</span><span style="color: #ECEFF4">&lt;{},</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">State</span><span style="color: #ECEFF4">&gt;</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">  </span><span style="color: #81A1C1">constructor</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9">props</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{})</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">super</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">props</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">state</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">      </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span>\n<span style="color: #D8DEE9">    </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">;</span>\n\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">addOne</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">addOne</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">bind</span><span style="color: #D8DEE9">(</span><span style="color: #81A1C1">this</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">;</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">subtractOne</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">subtractOne</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">bind</span><span style="color: #D8DEE9">(</span><span style="color: #81A1C1">this</span><span style="color: #D8DEE9">)</span><span style="color: #81A1C1">;</span>\n<span style="color: #D8DEE9">  </span><span style="color: #ECEFF4">}</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #88C0D0">subtractOne</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">setState</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">state</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> (</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">state</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">-</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9">))</span><span style="color: #81A1C1">;</span>\n<span style="color: #D8DEE9">  </span><span style="color: #ECEFF4">}</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #88C0D0">addOne</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">this</span><span style="color: #ECEFF4">.</span><span style="color: #88C0D0">setState</span><span style="color: #D8DEE9">(</span><span style="color: #D8DEE9">state</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">=&gt;</span><span style="color: #D8DEE9"> (</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">count</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">state</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9"> </span><span style="color: #81A1C1">+</span><span style="color: #D8DEE9"> </span><span style="color: #B48EAD">1</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #D8DEE9">))</span><span style="color: #81A1C1">;</span>\n<span style="color: #D8DEE9">  </span><span style="color: #ECEFF4">}</span>\n\n<span style="color: #D8DEE9">  </span><span style="color: #88C0D0">render</span><span style="color: #ECEFF4">()</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">{</span>\n<span style="color: #D8DEE9">    </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9"> (</span>\n<span style="color: #D8DEE9">      </span><span style="color: #D8DEE9">&lt;&gt;</span>\n<span style="color: #D8DEE9">        </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">subtractOne</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">-</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">        </span><span style="color: #81A1C1">&lt;span</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">style</span><span style="color: #81A1C1">={</span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9"> </span><span style="color: #D8DEE9">margin</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">1em</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9"> </span><span style="color: #ECEFF4">}</span><span style="color: #81A1C1">}&gt;{this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">state</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">count</span><span style="color: #81A1C1">}&lt;/span&gt;</span>\n<span style="color: #D8DEE9">        </span><span style="color: #81A1C1">&lt;button</span><span style="color: #D8DEE9"> </span><span style="color: #8FBCBB">onClick</span><span style="color: #81A1C1">={this</span><span style="color: #ECEFF4">.</span><span style="color: #D8DEE9">addOne</span><span style="color: #81A1C1">}&gt;</span><span style="color: #D8DEE9">+</span><span style="color: #81A1C1">&lt;/button&gt;</span>\n<span style="color: #D8DEE9">      </span><span style="color: #81A1C1">&lt;/&gt;</span>\n<span style="color: #D8DEE9">    )</span><span style="color: #81A1C1">;</span>\n<span style="color: #D8DEE9">  </span><span style="color: #ECEFF4">}</span>\n<span style="color: #ECEFF4">}</span></code></pre>'}},[[332,1,2]]]);
//# sourceMappingURL=main.610c36df5757c0c01446.bundle.js.map