(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{220:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeValue=function changeValue(handler){return function(evt){return handler(evt.currentTarget.value)}},exports.preventDefaultThen=function preventDefaultThen(handler){return function(evt){evt.preventDefault(),handler()}},exports.onEnterOrClick=function onEnterOrClick(fn){return{tabIndex:0,onClick:function(evt){evt.stopPropagation(),fn()},onKeyDown:function(evt){"Enter"===evt.key&&(evt.stopPropagation(),fn())}}}},313:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CHANGE_NEW_TODO_TITLE="CHANGE_NEW_TODO_TITLE",exports.ADD_TODO="ADD_TODO",exports.DELETE_TODO="DELETE_TODO",exports.TOGGLE_TODO="TOGGLE_TODO"},316:function(module,__webpack_exports__,__webpack_require__){"use strict";var _storybook_theming__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(317);__webpack_exports__.a=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_0__.create)({base:"light",colorPrimary:"hotpink",colorSecondary:"deepskyblue",appBg:"white",appContentBg:"silver",appBorderColor:"grey",appBorderRadius:4,fontBase:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"',fontCode:'Monaco", "Fira Code", "Hack", monospace',textColor:"black",textInverseColor:"rgba(255,255,255,0.9)",barTextColor:"silver",barSelectedColor:"black",barBg:"hotpink",inputBg:"white",inputBorder:"silver",inputTextColor:"black",inputBorderRadius:4,brandTitle:"Refactor or die",brandUrl:"https://refactorordie.com",brandImage:"https://refactorordie.com/logo-sb.svg"})},321:function(module,exports,__webpack_require__){__webpack_require__(322),__webpack_require__(426),module.exports=__webpack_require__(427)},427:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(127),_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(316);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{showPanel:!1,isToolshown:!1,theme:_theme__WEBPACK_IMPORTED_MODULE_1__.a}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){!function requireAll(requireContext){return requireContext.keys().sort().map(requireContext)}(__webpack_require__(607))},module)}.call(this,__webpack_require__(255)(module))},607:function(module,exports,__webpack_require__){var map={"./todos-notes/UserNameInput.story.tsx":608,"./todos/todo.story.tsx":612};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=607},608:function(module,exports,__webpack_require__){"use strict";(function(module){var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(127),react_2=__importStar(__webpack_require__(2)),dual_1=__webpack_require__(609),ViewState_1=__webpack_require__(611),utils_1=__webpack_require__(220);function UserNameInputDemo(){var _a=react_2.useState(""),name=_a[0],setName=_a[1];return dual_1.dual(react_2.default.createElement("input",{className:"form-control",value:name,onChange:utils_1.changeValue(setName),placeholder:"Input User Name..."}),react_2.default.createElement(ViewState_1.ViewState,{label:"User Name",value:name}))}react_1.storiesOf("Todos Notes",module).add("User Name Input",function(){return react_2.default.createElement(UserNameInputDemo,null)})}).call(this,__webpack_require__(95)(module))},609:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),Container_1=__webpack_require__(610);exports.dual=function dual(left,right,ratio){void 0===ratio&&(ratio=.5);var leftWidth=Math.round(12*ratio);return react_1.default.createElement(Container_1.Container,null,react_1.default.createElement("div",{className:"row"},react_1.default.createElement("div",{className:"col-sm-"+leftWidth},left),react_1.default.createElement("div",{className:"col-sm-"+(12-leftWidth)},right)))}},610:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),csx_1=__webpack_require__(315);exports.Container=function Container(_a){var children=_a.children,props=__rest(_a,["children"]);return react_1.default.createElement("div",__assign({className:"container-fluid",style:{marginTop:csx_1.px(8)},children:children},props))}},611:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(2)),typestyle_1=__webpack_require__(625),csx_1=__webpack_require__(315);exports.ViewState=function ViewState(_a){var label=_a.label,value=_a.value,_b=_a.maxLen,maxLen=void 0===_b?28:_b,valueString=react_1.useMemo(function(){var str=JSON.stringify(value);return str.length<maxLen?str:str.slice(0,maxLen-3)+"..."},[value]);return react_1.default.createElement("div",{className:typestyle_1.style({background:"#C6D6DF",border:"4px solid #252D52",borderRadius:csx_1.px(8),boxSizing:"border-box",display:"inline-block",position:"relative",overflow:"hidden",$nest:{"&:not(:first-child)":{marginTop:csx_1.px(8)}}})},react_1.default.createElement("div",{style:{position:"absolute",right:0,bottom:0}},react_1.default.createElement("svg",{width:"98",height:"66",viewBox:"0 0 98 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M97.9516 0.138434C113.701 0.50861 126.902 9.10054 140.604 16.2596C156.288 24.4545 176.488 29.4058 183.35 44.7588C190.299 60.3067 183.881 78.6429 175.067 93.3676C167.198 106.512 150.937 111.904 137.82 120.816C124.567 129.82 114.316 144.037 97.9516 145.758C80.9376 147.549 65.5802 138.025 50.8622 129.966C34.6371 121.082 16.8763 112.68 8.82825 96.9594C0.263041 80.2289 -2.69251 59.4309 6.27937 42.8821C14.9339 26.9186 36.3973 22.2782 53.6868 14.2167C67.9624 7.56048 81.9545 -0.237559 97.9516 0.138434Z",fill:"#27302E","fill-opacity":"0.1"}))),react_1.default.createElement("div",{className:typestyle_1.style({fontSize:csx_1.px(24),paddingLeft:csx_1.px(18),paddingRight:csx_1.px(16),fontFamily:"'Nunito Sans Black', 'Nunito Sans', sans-serif",fontWeight:900})},label),react_1.default.createElement("div",{className:typestyle_1.style({fontWeight:900,fontSize:csx_1.px(13),fontFamily:"Monaco, Fira Code, Fira Code Retina, Hack, Consolas, monospace",background:"rgba(255, 255, 255, 0.79)"})},react_1.default.createElement("div",{style:{padding:csx_1.px(8),display:"inline-block"}},react_1.default.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M13.5607 3.27927L10.9393 0.470725C10.658 0.169327 10.2765 2.22883e-06 9.87869 0H1.5C0.671562 0 0 0.719531 0 1.60714V13.3929C0 14.2805 0.671562 15 1.5 15H12.5C13.3284 15 14 14.2805 14 13.3929V4.41569C14 3.98945 13.842 3.58067 13.5607 3.27927V3.27927ZM8.5 1.60714V4.28571H4.5V1.60714H8.5ZM12.3125 13.3929H1.6875C1.63777 13.3929 1.59008 13.3717 1.55492 13.334C1.51975 13.2963 1.5 13.2452 1.5 13.192V1.80804C1.5 1.75476 1.51975 1.70366 1.55492 1.66598C1.59008 1.62831 1.63777 1.60714 1.6875 1.60714H3V5.08929C3 5.53309 3.33578 5.89286 3.75 5.89286H9.25C9.66422 5.89286 10 5.53309 10 5.08929V1.73712L12.4451 4.35686C12.4625 4.37552 12.4763 4.39767 12.4857 4.42204C12.4952 4.44642 12.5 4.47255 12.5 4.49893V13.192C12.5 13.2452 12.4802 13.2963 12.4451 13.334C12.4099 13.3717 12.3622 13.3929 12.3125 13.3929V13.3929ZM7 6.69643C5.48366 6.69643 4.25 8.0182 4.25 9.64286C4.25 11.2675 5.48366 12.5893 7 12.5893C8.51634 12.5893 9.75 11.2675 9.75 9.64286C9.75 8.0182 8.51634 6.69643 7 6.69643ZM7 10.9821C6.31075 10.9821 5.75 10.3813 5.75 9.64286C5.75 8.90437 6.31075 8.30357 7 8.30357C7.68925 8.30357 8.25 8.90437 8.25 9.64286C8.25 10.3813 7.68925 10.9821 7 10.9821Z",fill:"#252D52",fillOpacity:"0.4"})),react_1.default.createElement("span",{style:{marginLeft:csx_1.px(8)}},valueString))))}},612:function(module,exports,__webpack_require__){"use strict";(function(module){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(127),react_2=__importDefault(__webpack_require__(2)),App_1=__webpack_require__(613),AppRedux_1=__webpack_require__(616),todosService=__webpack_require__(621).createTodosService(localStorage);react_1.storiesOf("Todos",module).add("Todo App Observer",function(){return react_2.default.createElement(App_1.App,{todosService:todosService})}).add("Todo App Redux",function(){return react_2.default.createElement(AppRedux_1.AppRedux,{todosService:todosService})})}).call(this,__webpack_require__(95)(module))},613:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var observer_react_1=__webpack_require__(614),react_1=__importStar(__webpack_require__(2)),utils_1=__webpack_require__(220),TodoBloc_1=__webpack_require__(615);exports.App=function App(props){var bloc=react_1.useMemo(function(){return TodoBloc_1.createTodoBloc(props.todosService)},[]);return react_1.default.createElement("div",{className:"container",style:{maxWidth:"30em"}},react_1.default.createElement("h1",null,"Todos"),react_1.default.createElement("ul",{className:"list-group"},react_1.default.createElement(observer_react_1.Observer,{of:bloc.todos,next:function(todos){return todos.map(function(todo){return react_1.default.createElement("li",__assign({key:todo.id,style:{textDecoration:todo.done?"line-through":"none"},className:"list-group-item"},utils_1.onEnterOrClick(function(){return bloc.toggleTodo(todo.id)})),todo.label," ",react_1.default.createElement("button",__assign({className:"float-right btn btn-light btn-sm"},utils_1.onEnterOrClick(function(){return bloc.deleteTodo(todo.id)})),"Delete"))})}})),react_1.default.createElement("br",null),react_1.default.createElement("form",{onSubmit:utils_1.preventDefaultThen(function(){return bloc.saveTodo()}),className:"form"},react_1.default.createElement("label",{htmlFor:"new-todo-label"},"New Todo"),react_1.default.createElement("div",{className:"input-group"},react_1.default.createElement(observer_react_1.Observer,{of:bloc.newTodoTitle,next:function(value){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",{id:"new-todo-label",type:"text",className:"form-control",placeholder:"Todo title",value:value,onChange:utils_1.changeValue(bloc.updateTitle)}))}}),react_1.default.createElement("div",{className:"input-group-append"},react_1.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Add")))))}},615:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(314),operators_1=__webpack_require__(622);exports.createTodoBloc=function createTodoBloc(service){var savedState=service.getSave(),todos=new rxjs_1.BehaviorSubject(savedState.todos),newTodoLabel=new rxjs_1.BehaviorSubject(savedState.newTodoLabel);return rxjs_1.combineLatest(todos,newTodoLabel).pipe(operators_1.debounceTime(500)).subscribe(function(_a){var todos=_a[0],newTodoLabel=_a[1];return service.save({todos:todos,newTodoLabel:newTodoLabel})}),{toggleTodo:function(todoId){todos.next(todos.value.map(function(originalTodo){return originalTodo.id===todoId?__assign({},originalTodo,{done:!originalTodo.done}):originalTodo}))},deleteTodo:function(todoId){todos.next(todos.value.filter(function(originalTodo){return originalTodo.id!==todoId}))},updateTitle:function(label){newTodoLabel.next(label)},saveTodo:function(){todos.next(todos.value.concat([service.createTodo(newTodoLabel.value)])),newTodoLabel.next("")},newTodoTitle:newTodoLabel,todos:todos}}},616:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__(2)),react_redux_1=__webpack_require__(623),redux_1=__webpack_require__(223),utils_1=__webpack_require__(220),actions_1=__webpack_require__(619),Store_1=__webpack_require__(620);function TodosAppView(){var dispatch=react_redux_1.useDispatch(),todos=react_redux_1.useSelector(function(state){return state.todos},react_redux_1.shallowEqual),newTodoLabel=react_redux_1.useSelector(function(state){return state.newTodoLabel},react_redux_1.shallowEqual);return react_1.default.createElement("div",{className:"container",style:{maxWidth:"30em"}},react_1.default.createElement("h1",null,"Todos"),react_1.default.createElement("ul",{className:"list-group"},todos.map(function(todo){return react_1.default.createElement("li",__assign({key:todo.id,style:{textDecoration:todo.done?"line-through":"none"},className:"list-group-item"},utils_1.onEnterOrClick(function(){return dispatch(actions_1.toggleTodo(todo.id))})),todo.label," ",react_1.default.createElement("button",__assign({className:"float-right btn btn-light btn-sm"},utils_1.onEnterOrClick(function(){return dispatch(actions_1.deleteTodo(todo.id))})),"Delete"))})),react_1.default.createElement("br",null),react_1.default.createElement("form",{onSubmit:utils_1.preventDefaultThen(function(){return dispatch(actions_1.addNewTodo())}),className:"form"},react_1.default.createElement("label",{htmlFor:"new-todo-label"},"New Todo"),react_1.default.createElement("div",{className:"input-group"},react_1.default.createElement("input",{id:"new-todo-label",type:"text",className:"form-control",placeholder:"Todo title",value:newTodoLabel,onChange:utils_1.changeValue(function(value){return dispatch(actions_1.changeNewTodoTitle(value))})}),react_1.default.createElement("div",{className:"input-group-append"},react_1.default.createElement("button",{type:"submit",className:"btn btn-primary"},"Add")))))}exports.AppRedux=function AppRedux(props){var store=redux_1.createStore(Store_1.createTodosReducer(props.todosService));return react_1.default.createElement(react_redux_1.Provider,{store:store},react_1.default.createElement(TodosAppView,null))}},619:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(313);exports.changeNewTodoTitle=function(label){return{type:types_1.CHANGE_NEW_TODO_TITLE,label:label}},exports.addNewTodo=function(){return{type:types_1.ADD_TODO}},exports.deleteTodo=function(todo_id){return{type:types_1.DELETE_TODO,todo_id:todo_id}},exports.toggleTodo=function(todo_id){return{type:types_1.TOGGLE_TODO,todo_id:todo_id}}},620:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(313),initialState={newTodoLabel:"",todos:[]};exports.createTodosReducer=function createTodosReducer(todosService){return function(state,action){switch(void 0===state&&(state=initialState),action.type){case types_1.TOGGLE_TODO:return __assign({},state,{todos:state.todos.map(function(originalTodo){return originalTodo.id===action.todo_id?__assign({},originalTodo,{done:!originalTodo.done}):originalTodo})});case types_1.DELETE_TODO:return __assign({},state,{todos:state.todos.filter(function(originalTodo){return originalTodo.id!==action.todo_id})});case types_1.ADD_TODO:return __assign({},state,{newTodoLabel:"",todos:state.todos.concat([todosService.createTodo(state.newTodoLabel)])});case types_1.CHANGE_NEW_TODO_TITLE:return __assign({},state,{newTodoLabel:action.label});default:return state}}}},621:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var randId=function(){return Math.random().toString(36).slice(2)},STORAGE_KEY="todos";exports.createTodosService=function createTodosService(storage){return{createTodo:function(label){return{done:!1,id:randId(),label:label}},save:function(state){return storage.setItem(STORAGE_KEY,JSON.stringify(state))},getSave:function(){return JSON.parse(storage.getItem(STORAGE_KEY)||"false")||{newTodoLabel:"",todos:[]}}}}}},[[321,1,2]]]);
//# sourceMappingURL=main.af03904a362471146de5.bundle.js.map