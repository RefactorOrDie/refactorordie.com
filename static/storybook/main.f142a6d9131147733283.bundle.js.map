{"version":3,"sources":["source:///./stories/utils.ts?","source:///./stories/bloc/strict.tsx?","source:///./stories/todos/bloc-complex/TodosRepoProvider.tsx?","source:///./stories/components/dual.tsx?","source:///./stories/components/useAnimationName.ts?","source:///./stories/components/flash.ts?","source:///./stories/todos/bloc-complex/TodosBlocProvider.tsx?","source:///./stories/todos/bloc-complex/TodoItem/TodoItemBlocProvider.tsx?","source:///./stories/todos/redux/types.ts?","source:///./stories/components/Container.tsx?","source:///./.storybook/theme.js?","source:///./.storybook/config.js?","source:///./stories sync story\\.tsx$?","source:///./stories/todos-notes/UserNameInput.story.tsx?","source:///./stories/components/ViewState.tsx?","source:///./stories/components/ViewView.tsx?","source:///./stories/todos/bloc-complex/AppRoot.story.tsx?","source:///./stories/todos/bloc-complex/AppRoot.tsx?","source:///./stories/todos/bloc-complex/TodosApp.tsx?","source:///./stories/todos/bloc-complex/TodosBloc.ts?","source:///./stories/todos/bloc-complex/TodosRepo.ts?","source:///./stories/todos/bloc-complex/TodoItem/TodoItem.tsx?","source:///./stories/todos/bloc-complex/TodoItem/TodoItemBloc.ts?","source:///./stories/todos/todo.story.tsx?","source:///./stories/todos/redux/AppRedux.tsx?","source:///./stories/todos/Store.tsx?","source:///./stories/todos/redux/actions.ts?","source:///./stories/todos/simple/App.tsx?","source:///./stories/todos/simple/TodoBloc.ts?","source:///./stories/todos/Todos.service.ts?","source:///./stories/writing/ObservableState/counter.story.tsx?","source:///./stories/writing/ObservableState/CounterObservable1.tsx?","source:///./stories/writing/ObservableState/CounterObservable2.tsx?","source:///./stories/writing/ObservableState/CounterReact.tsx?","source:///./stories/writing/ObservableState/CounterReactCompareToObservable.tsx?","source:///./stories/writing/formatting/Demo.tsx?","source:///./stories/writing/ObservableState/CounterReactClass.tsx?","source:///./stories/writing/ObservableState/CounterReact.tsx?./loaders/shiki-loader","source:///./stories/writing/ObservableState/CounterReactCompareToObservable.tsx?./loaders/shiki-loader","source:///./stories/writing/ObservableState/CounterObservable1.tsx?./loaders/shiki-loader","source:///./stories/writing/ObservableState/CounterObservable2.tsx?./loaders/shiki-loader","source:///./stories/writing/ObservableState/CounterReactClass.tsx?./loaders/shiki-loader"],"names":["changeValue","handler","evt","currentTarget","value","preventDefaultThen","preventDefault","onEnterOrClick","fn","tabIndex","onClick","stopPropagation","onKeyDown","key","createBloc","createContext","undefined","useBloc","context","useContext","createRepo","useRepo","TodosRepoCtx","useTodosRepo","TodosRepoCreator","props","todosRepo","useMemo","createTodosRepo","storage","Provider","children","dual","left","right","ratio","leftWidth","Math","round","className","style","$nest","marginTop","px","useAnimationName","keyFrames","diff","animNames","n","opacity","random","a","keyframes","b","iter","setIter","useLayoutEffect","flash","borderColor","activeColor","color","boxShadow","TodosBlocCtx","useTodosBloc","TodosBlocCreator","service","todoBloc","createTodosBloc","TodoItemBlocCtx","usePromise","execute","dependencies","result","setResult","then","state","catch","err","useTodoItemBloc","TodoItemBlocCreator","todoItemBloc","createTodoItemBloc","todoId","CHANGE_NEW_TODO_TITLE","ADD_TODO","DELETE_TODO","TOGGLE_TODO","Container","base","colorPrimary","colorSecondary","appBg","appContentBg","appBorderColor","appBorderRadius","fontBase","fontCode","textColor","textInverseColor","barTextColor","barSelectedColor","barBg","inputBg","inputBorder","inputTextColor","inputBorderRadius","brandTitle","brandUrl","brandImage","options","showPanel","isToolshown","theme","loadStories","requireAll","requireContext","keys","sort","map","module","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","webpackContextKeys","Object","resolve","exports","UserNameInputDemo","name","setName","ViewView","label","onChange","placeholder","ViewState","storiesOf","add","maxLen","maxLines","valueString","str","JSON","stringify","max","length","replace","slice","flashAnimName","animationName","textAlign","animationDuration","background","border","borderRadius","boxSizing","display","position","overflow","bottom","width","height","viewBox","fill","xmlns","d","fontSize","paddingLeft","paddingRight","paddingBottom","fontFamily","fontWeight","marginLeft","padding","maxWidth","em","wordBreak","ViewObservableState","Observer","of","next","zIndex","pointerEvents","fillOpacity","AppRoot","_props","localStorage","TodosApp","todos","todoIds","TodoItem","onSubmit","addTodo","htmlFor","newTodoTitle","type","updateTitle","BehaviorSubject","isLoading","newTodoLabel","getTodoIds","ids","createTodo","asObservable","pipe","distinctUntilChanged","randId","toString","STORAGE_KEY","added","Subject","removed","updated","getIds","parse","getItem","saveIds","setItem","saveTodo","todo","removeItem","filter","existingId","getTodo","delayed","newTodoId","newTodo","done","updateTodo","partial","existing","deleteTodo","getAllTodos","events","delayMs","Promise","res","setTimeout","itemBloc","textDecoration","toggleDone","title","remove","todoMaybe","updateTodoData","update","console","error","subscribe","todosService","createTodosService","App","AppRedux","TodosAppView","dispatch","useDispatch","useSelector","shallowEqual","toggleTodo","addNewTodo","changeNewTodoTitle","store","createStore","createTodosReducer","initialState","action","originalTodo","todo_id","bloc","createTodoBloc","save","getSave","combineLatest","debounceTime","CounterReact$","CounterCompareToObservable$","CounterObservable1$","CounterObservable2$","CounterReactClass$","Example","Notes","PostDemoNotes","Demo","source","Counter","CounterObservable1","CounterObservable","whiteSpace","hideLinks","CounterClass","count","margin","countValue","setCount","storybookLink","href","window","location","query","search","hideCode","includes","hideDemo","target","pre","dangerouslySetInnerHTML","__html","addOne","bind","subtractOne","this","setState","render","Component"],"mappings":"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","file":"main.f142a6d9131147733283.bundle.js","sourcesContent":["import React from \"react\";\n\n/** helper for use with onChange functions */\nexport function changeValue(\n  handler: (value: string) => void\n): (evt: React.ChangeEvent<HTMLFormElement | HTMLInputElement>) => void {\n  return evt => handler(evt.currentTarget.value);\n}\n\n/** helper for canceling default behaviors in functions */\nexport function preventDefaultThen(\n  handler: () => void\n): (evt: { preventDefault: () => void }) => void {\n  return evt => {\n    evt.preventDefault();\n    handler();\n  };\n}\n\n/** helper for responding to enter key and click events */\nexport function onEnterOrClick(fn: () => void): React.HTMLAttributes<unknown> {\n  return {\n    tabIndex: 0,\n    onClick: evt => {\n      evt.stopPropagation();\n      fn();\n    },\n    onKeyDown: evt => {\n      if (evt.key === \"Enter\") {\n        evt.stopPropagation();\n        fn();\n      }\n    }\n  };\n}\n\n","import { createContext, useContext } from \"react\";\nimport { Observable } from \"rxjs\";\n\ninterface BlocType {\n  [property: string]: string | number | Symbol | Observable<any> | ((...args: any[]) => void)\n}\n\ninterface Bloc<R extends BlocType> extends React.Context<R> {}\n\nexport function createBloc<R extends BlocType>(): Bloc<R> {\n  return createContext(undefined as unknown as R)\n}\n\nexport function useBloc<R extends BlocType>(context: Bloc<R>): R {\n  return useContext(context)\n}\n\ntype RepoType = {\n  [property: string]: Observable<any> | ((...args: any[]) => (Promise<any> | void)) | any\n}\n\ninterface Repo<R extends RepoType> extends React.Context<R> {}\n\nexport function createRepo<R extends RepoType>(): Repo<R> {\n  return createContext(undefined as unknown as R)\n}\n\nexport function useRepo<R extends RepoType>(context: Repo<R>): R {\n  return useContext(context)\n}\n","import React, { useMemo } from \"react\";\nimport { createRepo, useRepo } from \"../../bloc/strict\";\nimport { createTodosRepo, TodosRepo } from \"./TodosRepo\";\n\nconst TodosRepoCtx = createRepo<TodosRepo>();\n\nexport const useTodosRepo = () => useRepo(TodosRepoCtx);\n\nexport function TodosRepoCreator(props: {\n  storage: Storage;\n  children: React.ReactNode;\n}) {\n  const todosRepo = useMemo(() => createTodosRepo(props.storage), []);\n  return <TodosRepoCtx.Provider value={todosRepo} children={props.children} />;\n}\n","import React from \"react\";\nimport { style } from \"typestyle\";\nimport { px } from \"csx\";\n\nexport function dual(left: JSX.Element, right: JSX.Element, ratio = 0.5) {\n  const leftWidth = Math.round(ratio * 12);\n  return (\n    <div\n      className={\n        \"container-fluid \" +\n        style({\n          $nest: {\n            \".row>*\": {\n              marginTop: px(8)\n            }\n          }\n        })\n      }\n    >\n      <div className=\"row\">\n        <div className={\"col-sm-\" + leftWidth}>{left}</div>\n        <div className={\"col-sm-\" + (12 - leftWidth)}>{right}</div>\n      </div>\n    </div>\n  );\n}\n","import { useLayoutEffect, useMemo, useState } from \"react\";\nimport { keyframes } from \"typestyle\";\nimport { KeyFrames } from \"typestyle/lib/types\";\n\n/**\n * Create an animation name that can be restarted\n * @param keyFrames animation keyframes\n * @param diff restart animation if any of these parameters change\n */\nexport function useAnimationName(keyFrames: KeyFrames, diff: any[]): string {\n  const animNames = useMemo(() => {\n    let n = keyFrames[\"0%\"] || keyFrames[\"from\"] || keyFrames[\"0\"] || null;\n    if (n == null)\n      n = keyFrames[\"from\"] = {\n        opacity: 1\n      };\n    if (n != null && typeof n === \"object\") {\n      n.opacity = 1 - Math.random() * 0.0001;\n      const a = keyframes({ ...keyFrames });\n      n.opacity = 1 - Math.random() * 0.0001;\n      const b = keyframes({ ...keyFrames });\n      n.opacity = 1 - Math.random() * 0.0001;\n      const c = keyframes({ ...keyFrames });\n      return [a, b, c];\n    }\n    return [];\n  }, [keyFrames]);\n  const [iter, setIter] = useState(0);\n\n  useLayoutEffect(() => {\n    setIter(iter + 1);\n  }, diff);\n\n  return animNames[iter % 3];\n}\n","import { KeyFrames } from \"typestyle/lib/types\";\n\nconst defaultActiveColor = \"#0174ea\";\n\nexport const flash = (\n  borderColor: string,\n  activeColor = defaultActiveColor\n): KeyFrames => ({\n  \"0%\": {\n    color: activeColor,\n    borderColor: activeColor,\n    boxShadow: `0 0 10px ${activeColor}`\n  },\n  \"30%\": {\n    color: \"black\",\n    borderColor,\n    boxShadow: `0 0 0px ${borderColor}`\n  },\n  \"100%\": {\n    borderColor\n  }\n});\n","import React, { useMemo } from \"react\";\nimport { createBloc, useBloc } from \"../../bloc/strict\";\nimport { createTodosBloc, TodosBloc } from \"./TodosBloc\";\nimport { useTodosRepo } from \"./TodosRepoProvider\";\n\nconst TodosBlocCtx = createBloc<TodosBloc>();\n\nexport const useTodosBloc = () => useBloc(TodosBlocCtx);\n\nexport function TodosBlocCreator(props: { children: React.ReactNode }) {\n  const service = useTodosRepo();\n  const todoBloc = useMemo(() => createTodosBloc(service), []);\n  return <TodosBlocCtx.Provider value={todoBloc} children={props.children} />;\n}\n","import React, { useMemo, useState } from \"react\";\nimport { createBloc, useBloc } from \"../../../bloc/strict\";\nimport { createTodoItemBloc, TodoItemBloc } from \"./TodoItemBloc\";\nimport { useTodosRepo } from \"../TodosRepoProvider\";\n\nconst TodoItemBlocCtx = createBloc<TodoItemBloc>();\n\nexport const useTodoItemBloc = () => useBloc(TodoItemBlocCtx);\n\nexport function TodoItemBlocCreator(props: {\n  todoId: string;\n  children: React.ReactNode;\n}) {\n  const todosRepo = useTodosRepo();\n  const todoItemBloc = usePromise(\n    () => createTodoItemBloc(todosRepo, props.todoId),\n    [props.todoId]\n  );\n\n  return todoItemBloc.state === \"complete\" ? (\n    <TodoItemBlocCtx.Provider\n      value={todoItemBloc.value}\n      children={props.children}\n    />\n  ) : (\n    <></>\n  );\n}\n\nexport type PromiseHook<T> =\n  | { state: \"loading\" }\n  | { state: \"complete\"; value: T }\n  | { state: \"error\"; err: any };\n\nexport function usePromise<T>(\n  execute: () => Promise<T>,\n  dependencies: any[]\n): PromiseHook<T> {\n  const [result, setResult] = useState<PromiseHook<T>>({ state: \"loading\" });\n  useMemo(\n    () =>\n      execute()\n        .then(value => setResult({ state: \"complete\", value }))\n        .catch(err => setResult({ state: \"error\", err })),\n    dependencies\n  );\n  return result;\n}\n","export const CHANGE_NEW_TODO_TITLE = \"CHANGE_NEW_TODO_TITLE\";\nexport const ADD_TODO = \"ADD_TODO\";\nexport const DELETE_TODO = \"DELETE_TODO\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\n\nexport interface ChangeNewTodoTitleAction {\n  type: typeof CHANGE_NEW_TODO_TITLE;\n  label: string;\n}\n\nexport interface AddTodoAction {\n  type: typeof ADD_TODO;\n}\n\nexport interface DeleteTodoAction {\n  type: typeof DELETE_TODO;\n  todo_id: string;\n}\n\nexport interface ToggleTodoAction {\n  type: typeof TOGGLE_TODO;\n  todo_id: string;\n}\n\nexport type TodoActionTypes =\n  | AddTodoAction\n  | ChangeNewTodoTitleAction\n  | DeleteTodoAction\n  | ToggleTodoAction;\n","import React, { HTMLAttributes } from \"react\";\nimport { px } from \"csx\";\n\nexport function Container({ children, ...props }: React.PropsWithChildren<HTMLAttributes<HTMLDivElement>>) {\n  return <div className=\"container-fluid\" style={{ marginTop: px(8) }} children={children} {...props}/>;\n}\n","import { create } from '@storybook/theming';\n\nexport default create({\n  base: 'light',\n\n  colorPrimary: 'hotpink',\n  colorSecondary: '#9B51E0',\n\n  // UI\n  appBg: 'white',\n  appContentBg: 'white',\n  appBorderColor: '#9B51E0',\n  appBorderRadius: 4,\n\n  // Typography\n  fontBase: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n  fontCode: 'Monaco\", \"Fira Code\", \"Hack\", monospace',\n\n  // Text colors\n  textColor: 'black',\n  textInverseColor: 'rgba(255,255,255,0.9)',\n\n  // Toolbar default and active colors\n  barTextColor: 'silver',\n  barSelectedColor: 'black',\n  barBg: 'white',\n\n  // Form colors\n  inputBg: 'white',\n  inputBorder: 'silver',\n  inputTextColor: 'black',\n  inputBorderRadius: 4,\n\n  brandTitle: 'Refactor or die',\n  brandUrl: 'https://refactorordie.com',\n  brandImage: 'https://refactorordie.com/logo-sb.svg',\n});\n","import { addParameters, configure } from \"@storybook/react\";\n\nimport theme from \"./theme\";\n\naddParameters({\n  options: {\n    showPanel: false,\n    isToolshown: false,\n    theme\n  }\n});\n\nfunction requireAll(requireContext) {\n  return requireContext\n    .keys()\n    .sort()\n    .map(requireContext);\n}\n\nfunction loadStories() {\n  // You can require as many stories as you need.\n  // requireAll(require.context(\"../src\", true, /\\.story\\.tsx$/));\n  requireAll(require.context(\"../stories\", true, /story\\.tsx$/));\n}\n\nconfigure(loadStories, module);\n","var map = {\n\t\"./demo/demo.story.tsx\": 619,\n\t\"./todos-notes/UserNameInput.story.tsx\": 620,\n\t\"./todos/bloc-complex/AppRoot.story.tsx\": 623,\n\t\"./todos/todo.story.tsx\": 630,\n\t\"./writing/ObservableState/counter.story.tsx\": 639\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 618;","import { storiesOf } from \"@storybook/react\";\nimport React, { useState } from \"react\";\nimport { dual } from \"../components/dual\";\nimport { ViewState } from \"../components/ViewState\";\nimport { changeValue } from \"../utils\";\nimport { ViewView } from \"../components/ViewView\";\n\nstoriesOf(\"Todos Notes\", module).add(\"User Name Input\", () => (\n  <UserNameInputDemo />\n));\n\nfunction UserNameInputDemo() {\n  // Here, we can use `useState` to create a managed value\n  // for our \"User Name\" input.\n  const [name, setName] = useState(\"\");\n  return dual(\n    <ViewView label=\"Name Input\" diff={[name]}>\n      <input\n        className=\"form-control\"\n        value={name}\n        onChange={changeValue(setName)}\n        placeholder=\"Input User Name...\"\n      />\n    </ViewView>,\n    <ViewState label=\"User Name\" value={name} />\n  );\n}\n","import { px, em } from \"csx\";\nimport React, { useMemo } from \"react\";\nimport { style } from \"typestyle\";\nimport { useAnimationName } from \"./useAnimationName\";\nimport { flash } from \"./flash\";\nimport { Observable } from \"rxjs\";\nimport { Observer } from \"observer-react\";\n\nexport function ViewObservableState({\n  label,\n  value,\n  maxLen,\n  maxLines\n}: {\n  label: string;\n  value: Observable<any>;\n  maxLen?: number;\n  maxLines?: number;\n}) {\n  return (\n    <Observer\n      of={value}\n      next={value => (\n        <ViewState\n          label={label}\n          value={value}\n          maxLen={maxLen}\n          maxLines={maxLines}\n        />\n      )}\n    />\n  );\n}\n\nexport function ViewState({\n  label,\n  value,\n  maxLen = 28,\n  maxLines = 1\n}: {\n  label: string;\n  value: any;\n  maxLen?: number;\n  maxLines?: number;\n}) {\n  const valueString = useMemo(() => {\n    const str = JSON.stringify(value);\n    const max = maxLen * maxLines;\n    if (str.length < max) {\n      return str.replace(/\\},\\{/g, \"},\\n{\");\n    } else {\n      return str.slice(0, max - 3) + \"...\";\n    }\n  }, [value]);\n\n  const flashAnimName = useAnimationName(flash(\"#252D52\"), [valueString]);\n\n  return (\n    <div\n      style={{\n        animationName: flashAnimName\n      }}\n      className={style({\n        textAlign: \"left\",\n        animationDuration: \"2s\",\n        background: \"#C6D6DF\",\n        border: \"4px solid #252D52\",\n        borderRadius: px(8),\n        boxSizing: \"border-box\",\n        display: \"inline-block\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        $nest: {\n          \"&:not(:first-child)\": {\n            marginTop: px(8)\n          }\n        }\n      })}\n    >\n      <div style={{ position: \"absolute\", right: 0, bottom: 0 }}>\n        <svg\n          width=\"98\"\n          height=\"66\"\n          viewBox=\"0 0 98 66\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M97.9516 0.138434C113.701 0.50861 126.902 9.10054 140.604 16.2596C156.288 24.4545 176.488 29.4058 183.35 44.7588C190.299 60.3067 183.881 78.6429 175.067 93.3676C167.198 106.512 150.937 111.904 137.82 120.816C124.567 129.82 114.316 144.037 97.9516 145.758C80.9376 147.549 65.5802 138.025 50.8622 129.966C34.6371 121.082 16.8763 112.68 8.82825 96.9594C0.263041 80.2289 -2.69251 59.4309 6.27937 42.8821C14.9339 26.9186 36.3973 22.2782 53.6868 14.2167C67.9624 7.56048 81.9545 -0.237559 97.9516 0.138434Z\"\n            fill=\"#27302E\"\n            fill-opacity=\"0.1\"\n          />\n        </svg>\n      </div>\n      <div\n        className={style({\n          fontSize: px(24),\n          paddingLeft: px(18),\n          paddingRight: px(16),\n          paddingBottom: px(4),\n          fontFamily: \"'Nunito Sans Black', 'Nunito Sans', sans-serif\",\n          fontWeight: 900\n        })}\n      >\n        {label}\n        <div className=\"float-right\" style={{ marginLeft: px(8) }}>\n          <svg\n            width=\"28\"\n            height=\"28\"\n            viewBox=\"0 0 28 28\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M27.1213 6.12131L21.8787 0.878687C21.3161 0.316077 20.553 4.16048e-06 19.7574 0H3C1.34312 0 0 1.34312 0 3V25C0 26.6569 1.34312 28 3 28H25C26.6569 28 28 26.6569 28 25V8.24263C28 7.44698 27.6839 6.68392 27.1213 6.12131ZM17 3V8H9V3H17ZM24.625 25H3.375C3.27554 25 3.18016 24.9605 3.10983 24.8902C3.03951 24.8198 3 24.7245 3 24.625V3.375C3 3.27554 3.03951 3.18016 3.10983 3.10984C3.18016 3.03951 3.27554 3 3.375 3H6V9.5C6 10.3284 6.67156 11 7.5 11H18.5C19.3284 11 20 10.3284 20 9.5V3.24263L24.8902 8.13281C24.925 8.16764 24.9526 8.20898 24.9715 8.25448C24.9903 8.29998 25 8.34875 25 8.398V24.625C25 24.7245 24.9605 24.8198 24.8902 24.8902C24.8198 24.9605 24.7245 25 24.625 25ZM14 12.5C10.9673 12.5 8.5 14.9673 8.5 18C8.5 21.0327 10.9673 23.5 14 23.5C17.0327 23.5 19.5 21.0327 19.5 18C19.5 14.9673 17.0327 12.5 14 12.5ZM14 20.5C12.6215 20.5 11.5 19.3785 11.5 18C11.5 16.6215 12.6215 15.5 14 15.5C15.3785 15.5 16.5 16.6215 16.5 18C16.5 19.3785 15.3785 20.5 14 20.5Z\"\n              fill=\"#252D52\"\n              fill-opacity=\"0.4\"\n            />\n          </svg>\n        </div>\n      </div>\n      <div\n        className={style({\n          fontWeight: 900,\n          fontSize: px(13),\n          fontFamily:\n            \"Monaco, Fira Code, Fira Code Retina, Hack, Consolas, monospace\",\n          background: \"rgba(255, 255, 255, 0.79)\"\n        })}\n      >\n        <div style={{ padding: px(8), display: \"inline-block\" }}>\n          <div\n            style={{\n              padding: px(8),\n              maxWidth: em(maxLen),\n              wordBreak: \"break-word\"\n            }}\n          >\n            {valueString}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { px } from \"csx\";\nimport React from \"react\";\nimport { style } from \"typestyle\";\nimport { flash } from \"./flash\";\nimport { useAnimationName } from \"./useAnimationName\";\n\nexport function ViewView({\n  label,\n  diff,\n  children\n}: {\n  label: string;\n  diff: any[];\n  children: React.ReactNode;\n}) {\n  const flashAnimName = useAnimationName(flash(\"#9E0072\", \"#9E0072\"), diff);\n\n  return (\n    <div\n      style={{\n        animationName: flashAnimName\n      }}\n      className={style({\n        textAlign: \"left\",\n        animationDuration: \"2s\",\n        background: \"#F5BBF0\",\n        border: \"4px solid #9E0072\",\n        borderRadius: px(8),\n        boxSizing: \"border-box\",\n        display: \"inline-block\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        $nest: {\n          \"&:not(:first-child)\": {\n            marginTop: px(8)\n          }\n        }\n      })}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          right: 0,\n          bottom: 0,\n          zIndex: 0,\n          pointerEvents: \"none\"\n        }}\n      >\n        <svg\n          width=\"99\"\n          height=\"33\"\n          viewBox=\"0 0 99 33\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M128.503 102.333C113.404 107.534 95.8617 106.455 78.6925 106.49C59.039 106.53 37.0324 110.261 21.4918 102.552C5.75384 94.7447 1.0001 80.4869 0.642042 67.7717C0.322413 56.4214 12.5057 47.26 19.6423 36.8745C26.8526 26.382 28.1513 13.5038 42.5974 6.71705C57.6169 -0.339151 77.7458 0.606279 96.4062 0.810659C116.977 1.03597 138.716 0.414243 155.594 7.95466C173.556 15.9796 188.618 28.6144 189.904 42.5816C191.144 56.0549 173.602 66.5204 162.021 77.7896C152.46 87.0944 143.84 97.051 128.503 102.333Z\"\n            fill=\"#233C10\"\n            fillOpacity=\"0.1\"\n          />\n        </svg>\n      </div>\n      <div\n        className={style({\n          fontSize: px(24),\n          color: \"#9E0072\",\n          paddingLeft: px(18),\n          paddingRight: px(16),\n          paddingBottom: px(4),\n          fontFamily: \"'Nunito Sans Black', 'Nunito Sans', sans-serif\",\n          fontWeight: 900\n        })}\n      >\n        {label}\n        <span className=\"float-right\">\n          <svg\n            width=\"28\"\n            height=\"22\"\n            viewBox=\"0 0 28 22\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M10.3752 11C10.3752 11.9283 10.7439 12.8185 11.4003 13.4749C12.0567 14.1313 12.9469 14.5 13.8752 14.5C14.8034 14.5 15.6937 14.1313 16.3501 13.4749C17.0064 12.8185 17.3752 11.9283 17.3752 11C17.3752 10.0717 17.0064 9.1815 16.3501 8.52513C15.6937 7.86875 14.8034 7.5 13.8752 7.5C12.9469 7.5 12.0567 7.86875 11.4003 8.52513C10.7439 9.1815 10.3752 10.0717 10.3752 11ZM27.4439 10.1938C24.4814 3.95313 20.0033 0.8125 14.0002 0.8125C7.99393 0.8125 3.51893 3.95312 0.556431 10.1969C0.437604 10.4485 0.375977 10.7233 0.375977 11.0016C0.375977 11.2798 0.437604 11.5546 0.556431 11.8062C3.51893 18.0469 7.99706 21.1875 14.0002 21.1875C20.0064 21.1875 24.4814 18.0469 27.4439 11.8031C27.6846 11.2969 27.6846 10.7094 27.4439 10.1938ZM13.8752 16.5C10.8377 16.5 8.37518 14.0375 8.37518 11C8.37518 7.9625 10.8377 5.5 13.8752 5.5C16.9127 5.5 19.3752 7.9625 19.3752 11C19.3752 14.0375 16.9127 16.5 13.8752 16.5Z\"\n              fill=\"#9E0072\"\n            />\n          </svg>\n        </span>\n      </div>\n      <div\n        className={style({\n          background: \"rgba(255, 255, 255, 0.79)\"\n        })}\n      >\n        <div\n          style={{\n            padding: px(8),\n            position: \"relative\",\n            zIndex: 1\n          }}\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { storiesOf } from \"@storybook/react\";\nimport React from \"react\";\nimport { AppRoot } from \"./AppRoot\";\n\n\nstoriesOf(\"Todos\", module)\n  .add(\"Todo App (Complex)\", () => <AppRoot/>)\n","import React from \"react\";\nimport { TodosApp } from \"./TodosApp\";\nimport { TodosBlocCreator } from \"./TodosBlocProvider\";\nimport { TodosRepoCreator } from \"./TodosRepoProvider\";\n\nexport function AppRoot(_props: {}) {\n  return (\n    <TodosRepoCreator storage={localStorage}>\n      <TodosBlocCreator>\n        <TodosApp />\n      </TodosBlocCreator>\n    </TodosRepoCreator>\n  );\n}\n","import { Observer } from \"observer-react\";\nimport React from \"react\";\nimport { changeValue, preventDefaultThen } from \"../../utils\";\nimport { useTodosBloc } from \"./TodosBlocProvider\";\nimport { TodoItem } from \"./TodoItem/TodoItem\";\nimport { TodoItemBlocCreator } from \"./TodoItem/TodoItemBlocProvider\";\n\nexport function TodosApp() {\n  const todos = useTodosBloc();\n\n  return (\n    <div className=\"container\" style={{ maxWidth: \"30em\" }}>\n      <h1>Todos</h1>\n      <ul className=\"list-group\">\n        {/* The Observer element is our own hand crafted component\n            which rerenders whenever a new value is inserted\n            into the stream. This is great for fine-grained\n            control over the render performance */}\n        <Observer\n          of={todos.todoIds}\n          next={todos =>\n            todos.map(id => (\n              <TodoItemBlocCreator todoId={id} key={id}>\n                <TodoItem />\n              </TodoItemBlocCreator>\n            ))\n          }\n        />\n      </ul>\n      <br />\n      <form\n        onSubmit={preventDefaultThen(() => todos.addTodo())}\n        className=\"form\"\n      >\n        <label htmlFor=\"new-todo-label\">New Todo</label>\n        <div className=\"input-group\">\n          <Observer\n            of={todos.newTodoTitle}\n            next={value => (\n              <>\n                <input\n                  id=\"new-todo-label\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Todo title\"\n                  value={value}\n                  onChange={changeValue(todos.updateTitle)}\n                />\n              </>\n            )}\n          />\n          <div className=\"input-group-append\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Add\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { BehaviorSubject, Observable } from \"rxjs\";\nimport { distinctUntilChanged } from \"rxjs/operators\";\nimport { TodosRepo } from \"./TodosRepo\";\n\nexport type TodosBloc = {\n  isLoading: Observable<boolean>;\n  todoIds: Observable<string[]>;\n  newTodoTitle: Observable<string>;\n  updateTitle(label: string): void;\n  addTodo(): void;\n};\n\nexport function createTodosBloc(service: TodosRepo): TodosBloc {\n  const todoIds = new BehaviorSubject<string[]>([]);\n  const isLoading = new BehaviorSubject<boolean>(true);\n  const newTodoLabel = new BehaviorSubject(\"\");\n  service.getTodoIds().then(ids => todoIds.next(ids));\n\n  return {\n    updateTitle(label: string) {\n      newTodoLabel.next(label);\n    },\n    async addTodo() {\n      const { id } = await service.createTodo(newTodoLabel.value);\n      todoIds.next([...todoIds.value, id]);\n    },\n    todoIds: todoIds.asObservable(),\n    isLoading: isLoading.pipe(distinctUntilChanged()),\n    newTodoTitle: newTodoLabel\n  };\n}\n","import { Observable, Subject } from \"rxjs\";\n\nexport type Todo = {\n  label: string;\n  id: string;\n  done: boolean;\n};\n\nconst randId = () =>\n  Math.random()\n    .toString(36)\n    .slice(2);\n\nexport interface TodosRepo {\n  createTodo(label: string): Promise<Todo>;\n  saveTodo(id: string, todo: Omit<Todo, \"id\">): Promise<void>;\n  updateTodo(id: string, todo: Partial<Omit<Todo, \"id\">>): Promise<void>;\n  deleteTodo(id: string): Promise<Todo | null>;\n  getTodo(id: string): Promise<Todo | null>;\n  getTodoIds(): Promise<string[]>;\n  getAllTodos(): Promise<Todo[]>;\n  events: {\n    added: Observable<Todo>;\n    removed: Observable<string>;\n    updated: Observable<Todo>;\n  };\n}\n\nconst STORAGE_KEY = \"todos-list\";\n/** This is a stupidly implemented service */\nexport function createTodosRepo(storage: Storage): TodosRepo {\n  // events\n  const added = new Subject<Todo>();\n  const removed = new Subject<string>();\n  const updated = new Subject<Todo>();\n\n  const getIds = () =>\n    JSON.parse(storage.getItem(STORAGE_KEY) || \"[]\") as string[];\n  const saveIds = (ids: string[]) =>\n    storage.setItem(STORAGE_KEY, JSON.stringify(ids));\n\n  const newTodo = (todo: Omit<Todo, \"id\">) => {\n    const newTodoId = randId();\n    saveIds([...getIds(), newTodoId]);\n    const newTodo: Todo = { id: newTodoId, ...todo };\n    storage.setItem(`${STORAGE_KEY}-${newTodoId}`, JSON.stringify(newTodo));\n    added.next(newTodo);\n    return newTodo;\n  };\n\n  const saveTodo = (id: string, todo: Todo | \"delete\") => {\n    if (todo === \"delete\") {\n      storage.removeItem(`${STORAGE_KEY}-${id}`);\n      saveIds(getIds().filter(existingId => existingId !== id));\n      removed.next(id);\n    } else {\n      // update\n      storage.setItem(`${STORAGE_KEY}-${id}`, JSON.stringify(todo));\n      updated.next(todo);\n    }\n  };\n\n  const getTodo = (id: string) =>\n    JSON.parse(\n      storage.getItem(`${STORAGE_KEY}-${id}`) || \"null\"\n    ) as Todo | null;\n\n  return {\n    createTodo(label) {\n      return delayed(() => {\n        return newTodo({ done: false, label });\n      });\n    },\n    saveTodo(id, todo) {\n      return delayed(() => {\n        saveTodo(id, { ...todo, id });\n      });\n    },\n    updateTodo(id, partial) {\n      return delayed(() => {\n        const existing = getTodo(id);\n        if (existing != null) {\n          saveTodo(id, { ...existing, ...partial, id });\n        } else {\n          throw new Error(`Could not update todo: ${id}`);\n        }\n      });\n    },\n    deleteTodo(id) {\n      return delayed(() => {\n        const todo = getTodo(id);\n        if (todo != null) {\n          saveTodo(id, \"delete\");\n        }\n        saveIds(getIds().filter(todoId => todoId !== id));\n        return todo;\n      });\n    },\n    getAllTodos() {\n      return delayed(() => {\n        return getIds()\n          .map(getTodo)\n          .filter((todo): todo is Todo => todo != null);\n      });\n    },\n    getTodo(id) {\n      return delayed(() => {\n        return getTodo(id);\n      });\n    },\n    getTodoIds() {\n      return delayed(() => {\n        return getIds();\n      });\n    },\n    events: {\n      added: added.asObservable(),\n      removed: removed.asObservable(),\n      updated: updated.asObservable()\n    }\n  };\n}\n\nconst delayed = <T>(fn: () => T, delayMs = 600): Promise<T> => {\n  return new Promise(res => {\n    setTimeout(() => res(fn()), delayMs);\n  });\n};\n","import { Observer } from \"observer-react\";\nimport React from \"react\";\nimport { onEnterOrClick } from \"../../../utils\";\nimport { useTodoItemBloc } from \"./TodoItemBlocProvider\";\n\nexport function TodoItem() {\n  const itemBloc = useTodoItemBloc();\n\n  return (\n    <>\n      {/* The Observer element is our own hand crafted component\n            which rerenders whenever a new value is inserted\n            into the stream. This is great for fine-grained\n            control over the render performance */}\n      <Observer\n        of={itemBloc.done}\n        next={done => (\n          <li\n            style={{ textDecoration: done ? \"line-through\" : \"none\" }}\n            className=\"list-group-item\"\n            {...onEnterOrClick(() => itemBloc.toggleDone())}\n          >\n            <Observer of={itemBloc.title} next={title => title} />\n            &nbsp;\n            <button\n              className=\"float-right btn btn-light btn-sm\"\n              {...onEnterOrClick(() => itemBloc.remove())}\n            >\n              Delete\n            </button>\n          </li>\n        )}\n      />\n    </>\n  );\n}\n","import { BehaviorSubject, Observable } from \"rxjs\";\nimport { distinctUntilChanged, filter } from \"rxjs/operators\";\nimport { Todo, TodosRepo } from \"../TodosRepo\";\n\nexport type TodoItemBloc = {\n  title: Observable<string>;\n  done: Observable<boolean>;\n  toggleDone(): void;\n  remove(): void;\n};\n\nexport async function createTodoItemBloc(\n  todosRepo: TodosRepo,\n  todoId: string\n): Promise<TodoItemBloc> {\n  const todoMaybe = await todosRepo.getTodo(todoId);\n  if (todoMaybe == null) {\n    throw new Error(`Unknown todo with id ${todoId}`);\n  }\n  const { id } = todoMaybe;\n  const title = new BehaviorSubject(todoMaybe.label);\n  const done = new BehaviorSubject(todoMaybe.done);\n  const updateTodoData = (update: Todo | null) => {\n    if (update == null)\n      return console.error(\"it looks like this Todo might have been deleted\", {\n        todo: id\n      });\n\n    title.next(update.label);\n    done.next(update.done);\n  };\n\n  todosRepo.getTodo(todoId).then(updateTodoData);\n  todosRepo.events.updated\n    .pipe(filter(todo => todo.id === id))\n    .subscribe(updateTodoData);\n\n  return {\n    title: title.pipe(distinctUntilChanged()),\n    done: done.pipe(distinctUntilChanged()),\n    toggleDone() {\n      done.next(!done.value);\n      todosRepo.updateTodo(id, { done: !done.value });\n    },\n    remove() {\n      todosRepo.deleteTodo(id);\n    }\n  };\n}\n","import { storiesOf } from \"@storybook/react\";\nimport React from \"react\";\nimport { AppRedux } from \"./redux/AppRedux\";\nimport { App as AppSimple } from \"./simple/App\";\nimport { createTodosService } from \"./Todos.service\";\n\nconst todosService = createTodosService(localStorage);\n\nstoriesOf(\"Todos\", module)\n  // .add(\"Todo App Observer\", () => <App todosService={todosService} />)\n  .add(\"Todo App Observer Simple \", () => (\n    <AppSimple todosService={todosService} />\n  ))\n  // .add(\"Todo App Observer (View)\", () => (\n  //   <AppView todosService={todosService} />\n  // ))\n  .add(\"Todo App Redux\", () => <AppRedux todosService={todosService} />);\n","import React from \"react\";\nimport { Provider, shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { createStore, Dispatch } from \"redux\";\nimport { changeValue, onEnterOrClick, preventDefaultThen } from \"../../utils\";\nimport { createTodosReducer, TodosState } from \"../Store\";\nimport { Todo, TodosService } from \"../Todos.service\";\nimport {\n  addNewTodo,\n  changeNewTodoTitle,\n  deleteTodo,\n  toggleTodo\n} from \"./actions\";\nimport { TodoActionTypes } from \"./types\";\n\nexport function AppRedux(props: { todosService: TodosService }) {\n  const store = createStore(createTodosReducer(props.todosService));\n  return (\n    <Provider store={store}>\n      <TodosAppView />\n    </Provider>\n  );\n}\n\nfunction TodosAppView() {\n  const dispatch = useDispatch<Dispatch<TodoActionTypes>>();\n  const todos = useSelector<TodosState, Todo[]>(\n    state => state.todos,\n    shallowEqual\n  );\n  const newTodoLabel = useSelector<TodosState, string>(\n    state => state.newTodoLabel,\n    shallowEqual\n  );\n\n  return (\n    <div className=\"container\" style={{ maxWidth: \"30em\" }}>\n      <h1>Todos</h1>\n      <ul className=\"list-group\">\n        {todos.map(todo => (\n          <li\n            key={todo.id}\n            style={{ textDecoration: todo.done ? \"line-through\" : \"none\" }}\n            className=\"list-group-item\"\n            {...onEnterOrClick(() => dispatch(toggleTodo(todo.id)))}\n          >\n            {todo.label}&nbsp;\n            <button\n              className=\"float-right btn btn-light btn-sm\"\n              {...onEnterOrClick(() => dispatch(deleteTodo(todo.id)))}\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n      <br />\n      <form\n        onSubmit={preventDefaultThen(() => dispatch(addNewTodo()))}\n        className=\"form\"\n      >\n        <label htmlFor=\"new-todo-label\">New Todo</label>\n        <div className=\"input-group\">\n          <input\n            id=\"new-todo-label\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Todo title\"\n            value={newTodoLabel}\n            onChange={changeValue(value => dispatch(changeNewTodoTitle(value)))}\n          />\n\n          <div className=\"input-group-append\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Add\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { TodosService, Todo } from \"./Todos.service\";\nimport {\n  TodoActionTypes,\n  TOGGLE_TODO,\n  DELETE_TODO,\n  ADD_TODO,\n  CHANGE_NEW_TODO_TITLE\n} from \"./redux/types\";\n\n/** Root State */\nexport type TodosState = {\n  newTodoLabel: string;\n  todos: Todo[];\n};\n\nconst initialState: TodosState = {\n  newTodoLabel: \"\",\n  todos: []\n};\n\nexport function createTodosReducer(todosService: TodosService) {\n  return (state = initialState, action: TodoActionTypes): TodosState => {\n    switch (action.type) {\n      case TOGGLE_TODO:\n        return {\n          ...state,\n          todos: state.todos.map(originalTodo => {\n            if (originalTodo.id === action.todo_id) {\n              // flip todo item\n              return {\n                ...originalTodo,\n                done: !originalTodo.done\n              };\n            } else {\n              return originalTodo;\n            }\n          })\n        };\n      case DELETE_TODO:\n        return {\n          ...state,\n          todos: state.todos.filter(originalTodo => {\n            // filter out todo\n            return originalTodo.id !== action.todo_id;\n          })\n        };\n      case ADD_TODO:\n        return {\n          ...state,\n          newTodoLabel: \"\",\n          todos: [...state.todos, todosService.createTodo(state.newTodoLabel)]\n        };\n      case CHANGE_NEW_TODO_TITLE:\n        return {\n          ...state,\n          newTodoLabel: action.label\n        };\n      default:\n        const _exhaust: never = action;\n        return state;\n    }\n  };\n}\n","import { ADD_TODO, DELETE_TODO, TodoActionTypes, TOGGLE_TODO, CHANGE_NEW_TODO_TITLE } from \"./types\";\n\nexport const changeNewTodoTitle = (label: string): TodoActionTypes => ({\n  type: CHANGE_NEW_TODO_TITLE,\n  label,\n});\n\nexport const addNewTodo = (): TodoActionTypes => ({\n  type: ADD_TODO,\n});\n\nexport const deleteTodo = (todo_id: string): TodoActionTypes => ({\n  type: DELETE_TODO,\n  todo_id\n});\n\nexport const toggleTodo = (todo_id: string): TodoActionTypes => ({\n  type: TOGGLE_TODO,\n  todo_id\n});\n","import { Observer } from \"observer-react\";\nimport React, { useMemo } from \"react\";\nimport { changeValue, onEnterOrClick, preventDefaultThen } from \"../../utils\";\nimport { createTodoBloc } from \"./TodoBloc\";\nimport { TodosService } from \"../Todos.service\";\n\nexport function App(props: { todosService: TodosService }) {\n  const bloc = useMemo(() => createTodoBloc(props.todosService), []);\n\n  \n  return (\n    <div className=\"container\" style={{ maxWidth: \"30em\" }}>\n      <h1>Todos</h1>\n      <ul className=\"list-group\">\n        {/* The Observer element is our own hand crafted component\n            which rerenders whenever a new value is inserted\n            into the stream. This is great for fine-grained\n            control over the render performance */}\n        <Observer\n          of={bloc.todos}\n          next={todos =>\n            todos.map(todo => (\n              <li\n                key={todo.id}\n                style={{ textDecoration: todo.done ? \"line-through\" : \"none\" }}\n                className=\"list-group-item\"\n                {...onEnterOrClick(() => bloc.toggleTodo(todo.id))}\n              >\n                {todo.label}&nbsp;\n                <button\n                  className=\"float-right btn btn-light btn-sm\"\n                  {...onEnterOrClick(() => bloc.deleteTodo(todo.id))}\n                >\n                  Delete\n                </button>\n              </li>\n            ))\n          }\n        />\n      </ul>\n      <br />\n      <form\n        onSubmit={preventDefaultThen(() => bloc.addTodo())}\n        className=\"form\"\n      >\n        <label htmlFor=\"new-todo-label\">New Todo</label>\n        <div className=\"input-group\">\n          <Observer\n            of={bloc.newTodoTitle}\n            next={value => (\n              <>\n                <input\n                  id=\"new-todo-label\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Todo title\"\n                  value={value}\n                  onChange={changeValue(bloc.updateTitle)}\n                />\n              </>\n            )}\n          />\n          <div className=\"input-group-append\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Add\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { BehaviorSubject, Observable, combineLatest } from 'rxjs';\nimport { Todo, TodosService } from '../Todos.service';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\n\nexport interface TodoBloc {\n  todos: Observable<Todo[]>;\n  newTodoTitle: Observable<string>;\n  updateTitle(label: string): void;\n  addTodo(): void;\n  toggleTodo(todoId: string): void;\n  deleteTodo(todoId: string): void;\n}\n\nexport function createTodoBloc(service: TodosService): TodoBloc {\n  const save = service.getSave()\n  const todos = new BehaviorSubject<Todo[]>([\n    { done: false, id: '1', label: 'adlijawoid'}\n  ]);\n  const newTodoTitle = new BehaviorSubject<string>(save.newTodoLabel);\n\n  combineLatest(todos, newTodoTitle)\n    .pipe(debounceTime(500))\n    .subscribe(([todos, newTodoTitle]) => {\n      service.save({ newTodoLabel: newTodoTitle, todos })\n    })\n\n  return {\n    toggleTodo(todoId: string) {\n      todos.next(\n        todos.value.map(originalTodo => {\n          if (originalTodo.id === todoId) {\n            // flip todo item\n            return {\n              ...originalTodo,\n              done: !originalTodo.done,\n            };\n          } else {\n            return originalTodo;\n          }\n        })\n      );\n    },\n    deleteTodo(todoId: string) {\n      todos.next(\n        todos.value.filter(originalTodo => {\n          // filter out todo\n          return originalTodo.id !== todoId;\n        })\n      );\n    },\n    updateTitle(label: string) {\n      newTodoTitle.next(label);\n    },\n    addTodo() {\n      todos.next([\n        ...todos.value,\n        service.createTodo(newTodoTitle.value),\n      ]);\n      newTodoTitle.next('');\n    },\n    newTodoTitle: newTodoTitle.pipe(distinctUntilChanged()),\n    todos,\n  };\n}\n","export type SaveState = {\n  todos: Todo[];\n  newTodoLabel: string;\n};\n\nexport type Todo = {\n  label: string;\n  id: string;\n  done: boolean;\n};\n\nconst randId = () =>\n  Math.random()\n    .toString(36)\n    .slice(2);\n\nexport interface TodosService {\n  createTodo(label: string): Todo;\n  save(todos: SaveState): void;\n  getSave(): SaveState;\n}\n\nconst STORAGE_KEY = \"todos\";\nexport function createTodosService(storage: Storage): TodosService {\n  return {\n    createTodo(label) {\n      return { done: false, id: randId(), label };\n    },\n    save(state) {\n      return storage.setItem(STORAGE_KEY, JSON.stringify(state));\n    },\n    getSave() {\n      return (\n        JSON.parse(storage.getItem(STORAGE_KEY) || \"false\") || {\n          newTodoLabel: \"\",\n          todos: []\n        }\n      );\n    }\n  };\n}\n","import { storiesOf } from \"@storybook/react\";\nimport React from \"react\";\nimport { CounterObservable1 } from \"./CounterObservable1\";\nimport { CounterObservable } from \"./CounterObservable2\";\nimport { Counter } from \"./CounterReact\";\nimport { Counter as CounterCompareToObservable } from \"./CounterReactCompareToObservable\";\nimport { Demo } from \"../formatting/Demo\";\nimport { em } from \"csx\";\nimport { dual } from \"../../components/dual\";\nimport { CounterClass } from \"./CounterReactClass\";\nimport { Container } from \"../../components/Container\";\n\nconst CounterReact$ = require(\"!shiki-loader!./CounterReact.tsx\");\nconst CounterCompareToObservable$ = require(\"!shiki-loader!./CounterReactCompareToObservable.tsx\");\nconst CounterObservable1$ = require(\"!shiki-loader!./CounterObservable1.tsx\");\nconst CounterObservable2$ = require(\"!shiki-loader!./CounterObservable2.tsx\");\nconst CounterReactClass$ = require(\"!shiki-loader!./CounterReactClass.tsx\");\n\nstoriesOf(\"Writing / ObservableState\", module)\n  .add(\"Counter (Hooks)\", () => (\n    <Demo title=\"Counter\" source={CounterReact$}>\n      <Example>\n        <Counter />\n      </Example>\n    </Demo>\n  ))\n  .add(\"Counter (Observable v1)\", () => (\n    <>\n      <Demo title=\"Counter (Observable v1)\" source={CounterObservable1$}>\n        <Example>\n          <CounterObservable1 />\n        </Example>\n        <Notes>\n          Notice that this does <em>not</em> work, because adding the next value\n          to the observable does not trigger a re-render. This is expected, and\n          as we'll see in the next step, is a valuable property for managing\n          performance.\n        </Notes>\n      </Demo>\n    </>\n  ))\n  .add(\"Counter (Observable v2)\", () => (\n    <Demo title=\"Counter (Observable)\" source={CounterObservable2$}>\n      <Example>\n        <CounterObservable />\n      </Example>\n      <Notes>\n        Surrounding the count display with an <code>{\"<Observer .../>\"}</code>\n        &nbsp; component will ensure that whenever <code>count</code> has a next\n        value, that the{\" \"}\n        <code style={{ whiteSpace: \"nowrap\" }}>{\"next={value => ...}\"}</code>{\" \"}\n        render function will be executed.\n      </Notes>\n    </Demo>\n  ))\n  .add(\"Counter (Hooks vs Observable)\", () =>\n    dual(\n      <Demo title=\"Counter\" source={CounterCompareToObservable$} hideLinks>\n        <Example>\n          <CounterCompareToObservable />\n        </Example>\n      </Demo>,\n      <Demo title=\"Counter (Observable)\" source={CounterObservable2$}>\n        <Example>\n          <CounterObservable />\n        </Example>\n      </Demo>\n    )\n  )\n  .add(\"Counter (Hooks vs Class)\", () =>\n    dual(\n      <Demo\n        title=\"Counter using React Class\"\n        source={CounterReactClass$}\n        hideLinks\n      >\n        <Example>\n          <CounterClass />\n        </Example>\n      </Demo>,\n      <>\n        <Demo title=\"Counter using Hooks\" source={CounterReact$}>\n          <Example>\n            <Counter />\n          </Example>\n        </Demo>\n        <PostDemoNotes>\n          Ignoring the performance implications of new functions for{\" \"}\n          <code>onClick</code> handlers; Hooks have already made our simple\n          counter example vastly easier to manage and reason about. As we'll\n          see, using the <code>{\"<Observer .../>\"}</code> component will look\n          very similar with the added benefit of fine-grained control over\n          rendering performance.\n        </PostDemoNotes>\n      </>\n    )\n  );\n\nfunction Example(props: { children: React.ReactNode }) {\n  return (\n    <div\n      className=\"bg-white p-2 mt-1 mb-1 d-inline-block\"\n      children={props.children}\n    />\n  );\n}\n\nfunction Notes(props: { children: React.ReactNode }) {\n  return <p style={{ maxWidth: em(36) }} children={props.children} />;\n}\n\nfunction PostDemoNotes(props: { children: React.ReactNode }) {\n  return (\n    <Container>\n      <p style={{ maxWidth: em(36) }} children={props.children} />\n    </Container>\n  );\n}\n","import React, { useMemo } from \"react\";\nimport { BehaviorSubject } from \"rxjs\";\n\nexport function CounterObservable1() {\n  const count = useMemo(() => new BehaviorSubject(1), []);\n\n  return (\n    <>\n      <button onClick={() => count.next(count.value - 1)}>-</button>\n      <span style={{ margin: \"1em\" }}>{count.value}</span>\n      <button onClick={() => count.next(count.value + 1)}>+</button>\n    </>\n  );\n}\n","import React, { useMemo } from \"react\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { Observer } from \"observer-react\";\n\nexport function CounterObservable() {\n  // useMemo to create the BehaviorSubject once\n  const count = useMemo(() => new BehaviorSubject(1), []);\n\n  return (\n    <>\n      <button onClick={() => count.next(count.value - 1)}>-</button>\n\n      <Observer\n        of={count}\n        // `next` rerenders count display when `count` has a next value.\n        next={countValue => <span style={{ margin: \"1em\" }}>{countValue}</span>}\n      />\n\n      <button onClick={() => count.next(count.value + 1)}>+</button>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\n\nexport function Counter() {\n  const [count, setCount] = useState(1);\n\n  return (\n    <>\n      <button onClick={() => setCount(count - 1)}>-</button>\n      <span style={{ margin: \"1em\" }}>{count}</span>\n      <button onClick={() => setCount(count + 1)}>+</button>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\n//\n//\n\nexport function Counter() {\n  // useState to make a getter and setter hooked into the state loop\n  const [count, setCount] = useState(1);\n\n  return (\n    <>\n      <button onClick={() => setCount(count - 1)}>-</button>\n\n      <span style={{ margin: \"1em\" }}>{count}</span>\n\n      <button onClick={() => setCount(count + 1)}>+</button>\n    </>\n  );\n}\n","import React from \"react\";\nimport { style } from \"typestyle\";\nimport { em, px } from \"csx\";\nimport { Container } from \"../../components/Container\";\n\nexport function Demo(props: {\n  source: string;\n  title: string;\n  hideLinks?: boolean;\n  children: React.ReactNode;\n}) {\n  const href = window.location.href;\n  const query = window.location.search;\n  const hideCode = query.includes(\"hide-code\");\n  const hideDemo = query.includes(\"hide-demo\");\n  const hideLinks = props.hideLinks || query.includes(\"hide-links\");\n  return (\n    <Container>\n      <b>{props.title}</b>\n      {!hideLinks && (\n        <div className=\"float-right\">\n          <a target=\"_blank\" href={href}>\n            Frame\n          </a>\n          &nbsp;&nbsp;&nbsp;\n          <a target=\"_blank\" href={storybookLink(href)}>\n            Storybook\n          </a>\n        </div>\n      )}\n      <br />\n      {!hideDemo && props.children}\n      {!hideCode && (\n        <p\n          className={style({\n            borderRadius: px(4),\n            overflow: \"auto\",\n            $nest: {\n              pre: {\n                padding: em(1)\n              }\n            }\n          })}\n          dangerouslySetInnerHTML={{ __html: props.source }}\n        />\n      )}\n    </Container>\n  );\n}\n\nfunction storybookLink(href: string): string {\n  return href.replace(/^.+?id=/, \"./?path=/story/\");\n}\n","import React from \"react\";\n\ntype State = { count: number };\n\nexport class CounterClass extends React.Component<{}, State> {\n  constructor(props: {}) {\n    super(props);\n\n    this.state = {\n      count: 1\n    };\n\n    this.addOne = this.addOne.bind(this);\n    this.subtractOne = this.subtractOne.bind(this);\n  }\n\n  subtractOne() {\n    this.setState(state => ({ count: state.count - 1 }));\n  }\n\n  addOne() {\n    this.setState(state => ({ count: state.count + 1 }));\n  }\n\n  render() {\n    return (\n      <>\n        <button onClick={this.subtractOne}>-</button>\n        <span style={{ margin: \"1em\" }}>{this.state.count}</span>\n        <button onClick={this.addOne}>+</button>\n      </>\n    );\n  }\n}\n","module.exports = \"<pre class=\\\"shiki\\\" style=\\\"background-color: #2e3440\\\"><code><span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">React</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">useState</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">react</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #81A1C1\\\">export</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">function</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">Counter</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">const</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">[</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">setCount</span><span style=\\\"color: #ECEFF4\\\">]</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">useState</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">return</span><span style=\\\"color: #D8DEE9\\\"> (</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #D8DEE9\\\">&lt;&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">setCount</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">-</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">-</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;span</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">style</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">margin</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">1em</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">}&gt;{</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #81A1C1\\\">}&lt;/span&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">setCount</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">+</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">+</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">&lt;/&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">  )</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #ECEFF4\\\">}</span></code></pre>\";","module.exports = \"<pre class=\\\"shiki\\\" style=\\\"background-color: #2e3440\\\"><code><span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">React</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">useState</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">react</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #4C566A\\\">//</span>\\n<span style=\\\"color: #4C566A\\\">//</span>\\n\\n<span style=\\\"color: #81A1C1\\\">export</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">function</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">Counter</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #ECEFF4\\\">  </span><span style=\\\"color: #4C566A\\\">// useState to make a getter and setter hooked into the state loop</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">const</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">[</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">setCount</span><span style=\\\"color: #ECEFF4\\\">]</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">useState</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">return</span><span style=\\\"color: #D8DEE9\\\"> (</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #D8DEE9\\\">&lt;&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">setCount</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">-</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">-</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;span</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">style</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">margin</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">1em</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">}&gt;{</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #81A1C1\\\">}&lt;/span&gt;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">setCount</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">+</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">+</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">&lt;/&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">  )</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #ECEFF4\\\">}</span></code></pre>\";","module.exports = \"<pre class=\\\"shiki\\\" style=\\\"background-color: #2e3440\\\"><code><span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">React</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">useMemo</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">react</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">BehaviorSubject</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">rxjs</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #81A1C1\\\">export</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">function</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">CounterObservable1</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">const</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">useMemo</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">new</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">BehaviorSubject</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> [])</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">return</span><span style=\\\"color: #D8DEE9\\\"> (</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #D8DEE9\\\">&lt;&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">next</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">value</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">-</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">-</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;span</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">style</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">margin</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">1em</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">}&gt;{</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">value</span><span style=\\\"color: #81A1C1\\\">}&lt;/span&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">next</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">value</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">+</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">+</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">&lt;/&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">  )</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #ECEFF4\\\">}</span></code></pre>\";","module.exports = \"<pre class=\\\"shiki\\\" style=\\\"background-color: #2e3440\\\"><code><span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">React</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">useMemo</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">react</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">BehaviorSubject</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">rxjs</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">Observer</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">observer-react</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #81A1C1\\\">export</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">function</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">CounterObservable</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #ECEFF4\\\">  </span><span style=\\\"color: #4C566A\\\">// useMemo to create the BehaviorSubject once</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">const</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #88C0D0\\\">useMemo</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">new</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">BehaviorSubject</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #ECEFF4\\\">,</span><span style=\\\"color: #D8DEE9\\\"> [])</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">return</span><span style=\\\"color: #D8DEE9\\\"> (</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #D8DEE9\\\">&lt;&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">next</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">value</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">-</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">-</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;Observer</span>\\n<span style=\\\"color: #D8DEE9\\\">        </span><span style=\\\"color: #8FBCBB\\\">of</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #81A1C1\\\">}</span>\\n<span style=\\\"color: #ECEFF4\\\">        </span><span style=\\\"color: #4C566A\\\">// `next` rerenders count display when `count` has a next value.</span>\\n<span style=\\\"color: #D8DEE9\\\">        </span><span style=\\\"color: #8FBCBB\\\">next</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #D8DEE9\\\">countValue</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">&lt;span</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">style</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">margin</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">1em</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">}&gt;{</span><span style=\\\"color: #D8DEE9\\\">countValue</span><span style=\\\"color: #81A1C1\\\">}&lt;/span&gt;}</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">/&gt;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">next</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">value</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">+</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">+</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">&lt;/&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">  )</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #ECEFF4\\\">}</span></code></pre>\";","module.exports = \"<pre class=\\\"shiki\\\" style=\\\"background-color: #2e3440\\\"><code><span style=\\\"color: #81A1C1\\\">import</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">React</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">from</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">react</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #81A1C1\\\">type</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">State</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> count</span><span style=\\\"color: #81A1C1\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">number</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #81A1C1\\\">export</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">class</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">CounterClass</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">extends</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">React</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #8FBCBB\\\">Component</span><span style=\\\"color: #ECEFF4\\\">&lt;{},</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">State</span><span style=\\\"color: #ECEFF4\\\">&gt;</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #81A1C1\\\">constructor</span><span style=\\\"color: #ECEFF4\\\">(</span><span style=\\\"color: #D8DEE9\\\">props</span><span style=\\\"color: #81A1C1\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{})</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">super</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">props</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">state</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">;</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">addOne</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">addOne</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">bind</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">subtractOne</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">subtractOne</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">bind</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #D8DEE9\\\">)</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #ECEFF4\\\">}</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #88C0D0\\\">subtractOne</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">setState</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">state</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> (</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">state</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">-</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\">))</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #ECEFF4\\\">}</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #88C0D0\\\">addOne</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #88C0D0\\\">setState</span><span style=\\\"color: #D8DEE9\\\">(</span><span style=\\\"color: #D8DEE9\\\">state</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">=&gt;</span><span style=\\\"color: #D8DEE9\\\"> (</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">state</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #81A1C1\\\">+</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #B48EAD\\\">1</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #D8DEE9\\\">))</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #ECEFF4\\\">}</span>\\n\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #88C0D0\\\">render</span><span style=\\\"color: #ECEFF4\\\">()</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">{</span>\\n<span style=\\\"color: #D8DEE9\\\">    </span><span style=\\\"color: #81A1C1\\\">return</span><span style=\\\"color: #D8DEE9\\\"> (</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #D8DEE9\\\">&lt;&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">        </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">subtractOne</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">-</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">        </span><span style=\\\"color: #81A1C1\\\">&lt;span</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">style</span><span style=\\\"color: #81A1C1\\\">={</span><span style=\\\"color: #ECEFF4\\\">{</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #D8DEE9\\\">margin</span><span style=\\\"color: #ECEFF4\\\">:</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #A3BE8C\\\">1em</span><span style=\\\"color: #ECEFF4\\\">\\\"</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #ECEFF4\\\">}</span><span style=\\\"color: #81A1C1\\\">}&gt;{this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">state</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">count</span><span style=\\\"color: #81A1C1\\\">}&lt;/span&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">        </span><span style=\\\"color: #81A1C1\\\">&lt;button</span><span style=\\\"color: #D8DEE9\\\"> </span><span style=\\\"color: #8FBCBB\\\">onClick</span><span style=\\\"color: #81A1C1\\\">={this</span><span style=\\\"color: #ECEFF4\\\">.</span><span style=\\\"color: #D8DEE9\\\">addOne</span><span style=\\\"color: #81A1C1\\\">}&gt;</span><span style=\\\"color: #D8DEE9\\\">+</span><span style=\\\"color: #81A1C1\\\">&lt;/button&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">      </span><span style=\\\"color: #81A1C1\\\">&lt;/&gt;</span>\\n<span style=\\\"color: #D8DEE9\\\">    )</span><span style=\\\"color: #81A1C1\\\">;</span>\\n<span style=\\\"color: #D8DEE9\\\">  </span><span style=\\\"color: #ECEFF4\\\">}</span>\\n<span style=\\\"color: #ECEFF4\\\">}</span></code></pre>\";"],"sourceRoot":""}